(function(){var define=undefined;(function(){function h(a,s,o){function u(r,e){if(!s[r]){if(!a[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(l)return l(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[r]={exports:{}};a[r][0].call(i.exports,function(e){var t=a[r][1][e];return u(t||e)},i,i.exports,h,a,s,o)}return s[r].exports}for(var l="function"==typeof require&&require,e=0;e<o.length;e++)u(o[e]);return u}return h})()({"/home/jarvis/nodeapp/client/js/doc-ready.js":[function(e,t,r){"use strict";var n=[];var i=false;var a=false;function s(){if(!i){i=true;for(var e=0;e<n.length;e++){n[e].fn.call(window,n[e].ctx)}n=[]}}function o(){if(document.readyState==="complete"){s()}}function u(e,t){if(typeof e!=="function"){throw new TypeError("callback for docReady(fn) must be a function")}if(i){setTimeout(function(){e(t)},1);return}else{n.push({fn:e,ctx:t})}if(document.readyState==="complete"||!document.attachEvent&&document.readyState==="interactive"){setTimeout(s,1)}else if(!a){if(document.addEventListener){document.addEventListener("DOMContentLoaded",s,false);window.addEventListener("load",s,false)}else{document.attachEvent("onreadystatechange",o);window.attachEvent("onload",s)}a=true}}t.exports=u},{}],"/home/jarvis/nodeapp/client/js/mutation-summary.js":[function(e,t,r){"use strict";var n=function e(t,r){for(var n in r){if(r.hasOwnProperty(n))t[n]=r[n]}function i(){this.constructor=t}i.prototype=r.prototype;t.prototype=new i};var i;if(typeof WebKitMutationObserver!=="undefined")i=WebKitMutationObserver;else i=MutationObserver;if(i===undefined){console.error("DOM Mutation Observers are required.");console.error("https://developer.mozilla.org/en-US/docs/DOM/MutationObserver");throw Error("DOM Mutation Observers are required")}var h=function(){function n(){this.nodes=[];this.values=[];this.maskCache=[]}n.prototype.getMaskStatus=function(e){var t=this.nodeId(e);return this.maskCache[t]};n.prototype.setMaskStatus=function(e,t){var r=this.nodeId(e);return this.maskCache[r]=t};n.prototype.clearMaskStatus=function(e){var t=this.nodeId(e);delete this.maskCache[t];for(var r=e.firstChild;r;r=r.nextSibling){this.clearMaskStatus(r)}};n.prototype.isIndex=function(e){return+e===e>>>0};n.prototype.nodeId=function(t){var r=t[n.ID_PROP];if(!r&&t.dataset){r=parseInt(t.dataset[n.ID_PROP]||"0")}if(!r){try{r=t[n.ID_PROP]=n.nextId_++}catch(e){r=t.dataset[n.ID_PROP]=n.nextId_++}}return r};n.prototype.set=function(e,t){var r=this.nodeId(e);this.nodes[r]=e;this.values[r]=t};n.prototype.get=function(e){var t=this.nodeId(e);return this.values[t]};n.prototype.has=function(e){return this.nodeId(e)in this.nodes};n.prototype.delete=function(e){var t=this.nodeId(e);delete this.nodes[t];this.values[t]=undefined};n.prototype.keys=function(){var e=[];for(var t in this.nodes){if(!this.isIndex(t))continue;e.push(this.nodes[t])}return e};n.ID_PROP="__uxl_node_map_id_"+parseInt(Math.random()*1e4)+"__";n.nextId_=1;return n}();var f;(function(e){e[e["STAYED_OUT"]=0]="STAYED_OUT";e[e["ENTERED"]=1]="ENTERED";e[e["STAYED_IN"]=2]="STAYED_IN";e[e["REPARENTED"]=3]="REPARENTED";e[e["REORDERED"]=4]="REORDERED";e[e["EXITED"]=5]="EXITED"})(f||(f={}));function a(e){return e===f.ENTERED||e===f.EXITED}var s=function(){function e(e,t,r,n,i,a,s,o){if(t===void 0){t=false}if(r===void 0){r=false}if(n===void 0){n=false}if(i===void 0){i=null}if(a===void 0){a=false}if(s===void 0){s=null}if(o===void 0){o=null}this.node=e;this.childList=t;this.attributes=r;this.characterData=n;this.oldParentNode=i;this.added=a;this.attributeOldValues=s;this.characterDataOldValue=o;this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}e.prototype.getAttributeOldValue=function(e){if(!this.attributeOldValues)return undefined;if(this.isCaseInsensitive)e=e.toLowerCase();return this.attributeOldValues[e]};e.prototype.getAttributeNamesMutated=function(){var e=[];if(!this.attributeOldValues)return e;for(var t in this.attributeOldValues){e.push(t)}return e};e.prototype.attributeMutated=function(e,t){this.attributes=true;this.attributeOldValues=this.attributeOldValues||{};if(e in this.attributeOldValues)return;this.attributeOldValues[e]=t};e.prototype.characterDataMutated=function(e){if(this.characterData)return;this.characterData=true;this.characterDataOldValue=e};e.prototype.removedFromParent=function(e){this.childList=true;if(this.added||this.oldParentNode)this.added=false;else this.oldParentNode=e};e.prototype.insertedIntoParent=function(){this.childList=true;this.added=true};e.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode};return e}();var o=function(){function e(){this.added=new h;this.removed=new h;this.maybeMoved=new h;this.oldPrevious=new h;this.moved=undefined}return e}();var u=function(o){n(e,o);function e(e,t){o.call(this);this.rootNode=e;this.reachableCache=undefined;this.wasReachableCache=undefined;this.anyParentsChanged=false;this.anyAttributesChanged=false;this.anyCharacterDataChanged=false;for(var r=0;r<t.length;r++){var n=t[r];switch(n.type){case"childList":this.anyParentsChanged=true;for(var i=0;i<n.removedNodes.length;i++){var a=n.removedNodes[i];this.getChange(a).removedFromParent(n.target)}for(var i=0;i<n.addedNodes.length;i++){var a=n.addedNodes[i];this.getChange(a).insertedIntoParent()}break;case"attributes":this.anyAttributesChanged=true;var s=this.getChange(n.target);s.attributeMutated(n.attributeName,n.oldValue);break;case"characterData":this.anyCharacterDataChanged=true;var s=this.getChange(n.target);s.characterDataMutated(n.oldValue);break}}}e.prototype.getChange=function(e){var t=this.get(e);if(!t){t=new s(e);this.set(e,t)}return t};e.prototype.getOldParent=function(e){var t=this.get(e);return t?t.getOldParent():e.parentNode};e.prototype.getIsReachable=function(e){if(e===this.rootNode)return true;if(!e)return false;this.reachableCache=this.reachableCache||new h;var t=this.reachableCache.get(e);if(t===undefined){t=this.getIsReachable(e.parentNode);this.reachableCache.set(e,t)}return t};e.prototype.getWasReachable=function(e){if(e===this.rootNode)return true;if(!e)return false;this.wasReachableCache=this.wasReachableCache||new h;var t=this.wasReachableCache.get(e);if(t===undefined){t=this.getWasReachable(this.getOldParent(e));this.wasReachableCache.set(e,t)}return t};e.prototype.reachabilityChange=function(e){if(this.getIsReachable(e)){return this.getWasReachable(e)?f.STAYED_IN:f.ENTERED}return this.getWasReachable(e)?f.EXITED:f.STAYED_OUT};return e}(h);var l=function(){function e(e,t,r,n,i){this.rootNode=e;this.mutations=t;this.selectors=r;this.calcReordered=n;this.calcOldPreviousSibling=i;this.treeChanges=new u(e,t);this.entered=[];this.exited=[];this.stayedIn=new h;this.visited=new h;this.childListChangeMap=undefined;this.characterDataOnly=undefined;this.matchCache=undefined;this.processMutations()}e.prototype.processMutations=function(){if(!this.treeChanges.anyParentsChanged&&!this.treeChanges.anyAttributesChanged)return;var e=this.treeChanges.keys();for(var t=0;t<e.length;t++){this.visitNode(e[t],undefined)}};e.prototype.visitNode=function(e,t){if(this.visited.has(e))return;this.visited.set(e,true);var r=this.treeChanges.get(e);var n=t;if(r&&r.childList||n==undefined)n=this.treeChanges.reachabilityChange(e);if(n===f.STAYED_OUT)return;this.matchabilityChange(e);if(n===f.ENTERED){this.entered.push(e)}else if(n===f.EXITED){this.exited.push(e);this.ensureHasOldPreviousSiblingIfNeeded(e)}else if(n===f.STAYED_IN){var i=f.STAYED_IN;if(r&&r.childList){if(r.oldParentNode!==e.parentNode){i=f.REPARENTED;this.ensureHasOldPreviousSiblingIfNeeded(e)}else if(this.calcReordered&&this.wasReordered(e)){i=f.REORDERED}}this.stayedIn.set(e,i)}if(n===f.STAYED_IN)return;for(var a=e.firstChild;a;a=a.nextSibling){this.visitNode(a,n)}};e.prototype.ensureHasOldPreviousSiblingIfNeeded=function(e){if(!this.calcOldPreviousSibling)return;this.processChildlistChanges();var t=e.parentNode;var r=this.treeChanges.get(e);if(r&&r.oldParentNode)t=r.oldParentNode;var n=this.childListChangeMap.get(t);if(!n){n=new o;this.childListChangeMap.set(t,n)}if(!n.oldPrevious.has(e)){n.oldPrevious.set(e,e.previousSibling)}};e.prototype.getChanged=function(e,t,r){this.selectors=t;this.characterDataOnly=r;for(var n=0;n<this.entered.length;n++){var i=this.entered[n];var a=this.matchabilityChange(i);if(a===f.ENTERED||a===f.STAYED_IN)e.added.push(i)}var s=this.stayedIn.keys();for(var n=0;n<s.length;n++){var i=s[n];var a=this.matchabilityChange(i);if(a===f.ENTERED){e.added.push(i)}else if(a===f.EXITED){e.removed.push(i)}else if(a===f.STAYED_IN&&(e.reparented||e.reordered)){var o=this.stayedIn.get(i);if(e.reparented&&o===f.REPARENTED)e.reparented.push(i);else if(e.reordered&&o===f.REORDERED)e.reordered.push(i)}}for(var n=0;n<this.exited.length;n++){var i=this.exited[n];var a=this.matchabilityChange(i);if(a===f.EXITED||a===f.STAYED_IN)e.removed.push(i)}};e.prototype.getOldParentNode=function(e){var t=this.treeChanges.get(e);if(t&&t.childList)return t.oldParentNode?t.oldParentNode:null;var r=this.treeChanges.reachabilityChange(e);if(r===f.STAYED_OUT||r===f.ENTERED)throw Error("getOldParentNode requested on invalid node.");return e.parentNode};e.prototype.getOldPreviousSibling=function(e){var t=e.parentNode;var r=this.treeChanges.get(e);if(r&&r.oldParentNode)t=r.oldParentNode;var n=this.childListChangeMap.get(t);if(!n)throw Error("getOldPreviousSibling requested on invalid node.");return n.oldPrevious.get(e)};e.prototype.getOldAttribute=function(e,t){var r=this.treeChanges.get(e);if(!r||!r.attributes)throw Error("getOldAttribute requested on invalid node.");var n=r.getAttributeOldValue(t);if(n===undefined)throw Error("getOldAttribute requested for unchanged attribute name.");return n};e.prototype.attributeChangedNodes=function(e){if(!this.treeChanges.anyAttributesChanged)return{};var t;var r;if(e){t={};r={};for(var n=0;n<e.length;n++){var i=e[n];t[i]=true;r[i.toLowerCase()]=i}}var a={};var s=this.treeChanges.keys();for(var n=0;n<s.length;n++){var o=s[n];var u=this.treeChanges.get(o);if(!u.attributes)continue;if(f.STAYED_IN!==this.treeChanges.reachabilityChange(o)||f.STAYED_IN!==this.matchabilityChange(o)){continue}var l=o;var h=u.getAttributeNamesMutated();for(var c=0;c<h.length;c++){var i=h[c];if(t&&!t[i]&&!(u.isCaseInsensitive&&r[i])){continue}var d=u.getAttributeOldValue(i);if(d===l.getAttribute(i))continue;if(r&&u.isCaseInsensitive)i=r[i];a[i]=a[i]||[];a[i].push(l)}}return a};e.prototype.getOldCharacterData=function(e){var t=this.treeChanges.get(e);if(!t||!t.characterData)throw Error("getOldCharacterData requested on invalid node.");return t.characterDataOldValue};e.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];var e=this.treeChanges.keys();var t=[];for(var r=0;r<e.length;r++){var n=e[r];if(f.STAYED_IN!==this.treeChanges.reachabilityChange(n))continue;var i=this.treeChanges.get(n);if(!i.characterData||n.textContent==i.characterDataOldValue)continue;t.push(n)}return t};e.prototype.computeMatchabilityChange=function(e,t){if(!this.matchCache)this.matchCache=[];if(!this.matchCache[e.uid])this.matchCache[e.uid]=new h;var r=this.matchCache[e.uid];var n=r.get(t);if(n===undefined){n=e.matchabilityChange(t,this.treeChanges.get(t));r.set(t,n)}return n};e.prototype.matchabilityChange=function(e){var t=this;if(this.characterDataOnly){switch(e.nodeType){case Node.COMMENT_NODE:case Node.TEXT_NODE:return f.STAYED_IN;default:return f.STAYED_OUT}}if(!this.selectors)return f.STAYED_IN;if(e.nodeType!==Node.ELEMENT_NODE)return f.STAYED_OUT;var r=e;var n=this.selectors.map(function(e){return t.computeMatchabilityChange(e,r)});var i=f.STAYED_OUT;var a=0;while(i!==f.STAYED_IN&&a<n.length){switch(n[a]){case f.STAYED_IN:i=f.STAYED_IN;break;case f.ENTERED:if(i===f.EXITED)i=f.STAYED_IN;else i=f.ENTERED;break;case f.EXITED:if(i===f.ENTERED)i=f.STAYED_IN;else i=f.EXITED;break}a++}return i};e.prototype.getChildlistChange=function(e){var t=this.childListChangeMap.get(e);if(!t){t=new o;this.childListChangeMap.set(e,t)}return t};e.prototype.processChildlistChanges=function(){if(this.childListChangeMap)return;this.childListChangeMap=new h;for(var e=0;e<this.mutations.length;e++){var t=function e(t,r){if(!t||n.oldPrevious.has(t)||n.added.has(t)||n.maybeMoved.has(t))return;if(r&&(n.added.has(r)||n.maybeMoved.has(r)))return;n.oldPrevious.set(t,r)};var r=this.mutations[e];if(r.type!="childList")continue;if(this.treeChanges.reachabilityChange(r.target)!==f.STAYED_IN&&!this.calcOldPreviousSibling)continue;var n=this.getChildlistChange(r.target);var i=r.previousSibling;for(var a=0;a<r.removedNodes.length;a++){var s=r.removedNodes[a];t(s,i);if(n.added.has(s)){n.added.delete(s)}else{n.removed.set(s,true);n.maybeMoved.delete(s)}i=s}t(r.nextSibling,i);for(var a=0;a<r.addedNodes.length;a++){var s=r.addedNodes[a];if(n.removed.has(s)){n.removed.delete(s);n.maybeMoved.set(s,true)}else{n.added.set(s,true)}}}};e.prototype.wasReordered=function(e){if(!this.treeChanges.anyParentsChanged)return false;this.processChildlistChanges();var t=e.parentNode;var r=this.treeChanges.get(e);if(r&&r.oldParentNode)t=r.oldParentNode;var n=this.childListChangeMap.get(t);if(!n)return false;if(n.moved)return n.moved.get(e);n.moved=new h;var i=new h;function a(e){if(!e)return false;if(!n.maybeMoved.has(e))return false;var t=n.moved.get(e);if(t!==undefined)return t;if(i.has(e)){t=true}else{i.set(e,true);t=l(e)!==o(e)}if(i.has(e)){i.delete(e);n.moved.set(e,t)}else{t=n.moved.get(e)}return t}var s=new h;function o(e){var t=s.get(e);if(t!==undefined)return t;t=n.oldPrevious.get(e);while(t&&(n.removed.has(t)||a(t))){t=o(t)}if(t===undefined)t=e.previousSibling;s.set(e,t);return t}var u=new h;function l(e){if(u.has(e))return u.get(e);var t=e.previousSibling;while(t&&(n.added.has(t)||a(t))){t=t.previousSibling}u.set(e,t);return t}n.maybeMoved.keys().forEach(a);return n.moved.get(e)};return e}();var c=function(){function e(e,t){var r=this;this.projection=e;this.added=[];this.removed=[];this.reparented=t.all||t.element||t.characterData?[]:undefined;this.reordered=t.all?[]:undefined;e.getChanged(this,t.elementFilter,t.characterData);if(t.all||t.attribute||t.attributeList){var n=t.attribute?[t.attribute]:t.attributeList;var i=e.attributeChangedNodes(n);if(t.attribute){this.valueChanged=i[t.attribute]||[]}else{this.attributeChanged=i;if(t.attributeList){t.attributeList.forEach(function(e){if(!r.attributeChanged.hasOwnProperty(e))r.attributeChanged[e]=[]})}}}if(t.all||t.characterData){var a=e.getCharacterDataChanged();if(t.characterData)this.valueChanged=a;else this.characterDataChanged=a}if(this.reordered)this.getOldPreviousSibling=e.getOldPreviousSibling.bind(e)}e.prototype.getOldParentNode=function(e){return this.projection.getOldParentNode(e)};e.prototype.getOldAttribute=function(e,t){return this.projection.getOldAttribute(e,t)};e.prototype.getOldCharacterData=function(e){return this.projection.getOldCharacterData(e)};e.prototype.getOldPreviousSibling=function(e){return this.projection.getOldPreviousSibling(e)};return e}();var x=/[a-zA-Z_]+/;var T=/[a-zA-Z0-9_\-]+/;function d(e){return'"'+e.replace(/"/,'\\"')+'"'}var A=function(){function e(){}e.prototype.matches=function(e){if(e===null)return false;if(this.attrValue===undefined)return true;if(!this.contains)return this.attrValue==e;var t=e.split(" ");for(var r=0;r<t.length;r++){if(this.attrValue===t[r])return true}return false};e.prototype.toString=function(){if(this.attrName==="class"&&this.contains)return"."+this.attrValue;if(this.attrName==="id"&&!this.contains)return"#"+this.attrValue;if(this.contains)return"["+this.attrName+"~="+d(this.attrValue)+"]";if("attrValue"in this)return"["+this.attrName+"="+d(this.attrValue)+"]";return"["+this.attrName+"]"};return e}();var p=function(){function N(){this.uid=N.nextUid++;this.qualifiers=[]}Object.defineProperty(N.prototype,"caseInsensitiveTagName",{get:function e(){return this.tagName.toUpperCase()},enumerable:true,configurable:true});Object.defineProperty(N.prototype,"selectorString",{get:function e(){return this.tagName+this.qualifiers.join("")},enumerable:true,configurable:true});N.prototype.isMatching=function(e){return e[N.matchesSelector](this.selectorString)};N.prototype.wasMatching=function(e,t,r){if(!t||!t.attributes)return r;var n=t.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if(n!=="*"&&n!==e.tagName)return false;var i=[];var a=false;for(var s=0;s<this.qualifiers.length;s++){var o=this.qualifiers[s];var u=t.getAttributeOldValue(o.attrName);i.push(u);a=a||u!==undefined}if(!a)return r;for(var s=0;s<this.qualifiers.length;s++){var o=this.qualifiers[s];var u=i[s];if(u===undefined)u=e.getAttribute(o.attrName);if(!o.matches(u))return false}return true};N.prototype.matchabilityChange=function(e,t){var r=this.isMatching(e);if(r)return this.wasMatching(e,t,r)?f.STAYED_IN:f.ENTERED;else return this.wasMatching(e,t,r)?f.EXITED:f.STAYED_OUT};N.parseSelectors=function(e){var t=[];var r;var n;function i(){if(r){if(n){r.qualifiers.push(n);n=undefined}t.push(r)}r=new N}function a(){if(n)r.qualifiers.push(n);n=new A}var s=/\s/;var o;var u="Invalid or unsupported selector syntax.";var l=1;var h=2;var c=3;var d=4;var f=5;var p=6;var v=7;var g=8;var m=9;var _=10;var b=11;var y=12;var w=13;var k=14;var S=l;var E=0;while(E<e.length){var C=e[E++];switch(S){case l:if(C.match(x)){i();r.tagName=C;S=h;break}if(C=="*"){i();r.tagName="*";S=c;break}if(C=="."){i();a();r.tagName="*";n.attrName="class";n.contains=true;S=d;break}if(C=="#"){i();a();r.tagName="*";n.attrName="id";S=d;break}if(C=="["){i();a();r.tagName="*";n.attrName="";S=p;break}if(C.match(s))break;throw Error(u);case h:if(C.match(T)){r.tagName+=C;break}if(C=="."){a();n.attrName="class";n.contains=true;S=d;break}if(C=="#"){a();n.attrName="id";S=d;break}if(C=="["){a();n.attrName="";S=p;break}if(C.match(s)){S=k;break}if(C==","){S=l;break}throw Error(u);case c:if(C=="."){a();n.attrName="class";n.contains=true;S=d;break}if(C=="#"){a();n.attrName="id";S=d;break}if(C=="["){a();n.attrName="";S=p;break}if(C.match(s)){S=k;break}if(C==","){S=l;break}throw Error(u);case d:if(C.match(x)){n.attrValue=C;S=f;break}throw Error(u);case f:if(C.match(T)){n.attrValue+=C;break}if(C=="."){a();n.attrName="class";n.contains=true;S=d;break}if(C=="#"){a();n.attrName="id";S=d;break}if(C=="["){a();S=p;break}if(C.match(s)){S=k;break}if(C==","){S=l;break}throw Error(u);case p:if(C.match(x)){n.attrName=C;S=v;break}if(C.match(s))break;throw Error(u);case v:if(C.match(T)){n.attrName+=C;break}if(C.match(s)){S=g;break}if(C=="~"){n.contains=true;S=m;break}if(C=="="){n.attrValue="";S=b;break}if(C=="]"){S=c;break}throw Error(u);case g:if(C=="~"){n.contains=true;S=m;break}if(C=="="){n.attrValue="";S=b;break}if(C=="]"){S=c;break}if(C.match(s))break;throw Error(u);case m:if(C=="="){n.attrValue="";S=b;break}throw Error(u);case _:if(C=="]"){S=c;break}if(C.match(s))break;throw Error(u);case b:if(C.match(s))break;if(C=='"'||C=="'"){o=C;S=w;break}n.attrValue+=C;S=y;break;case y:if(C.match(s)){S=_;break}if(C=="]"){S=c;break}if(C=="'"||C=='"')throw Error(u);n.attrValue+=C;break;case w:if(C==o){S=_;break}n.attrValue+=C;break;case k:if(C.match(s))break;if(C==","){S=l;break}throw Error(u)}}switch(S){case l:case h:case c:case f:case k:i();break;default:throw Error(u)}if(!t.length)throw Error(u);return t};N.nextUid=1;N.matchesSelector=function(){var e=document.createElement("div");if(typeof e["webkitMatchesSelector"]==="function")return"webkitMatchesSelector";if(typeof e["mozMatchesSelector"]==="function")return"mozMatchesSelector";if(typeof e["msMatchesSelector"]==="function")return"msMatchesSelector";return"matchesSelector"}();return N}();var v=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/;function g(e){if(typeof e!="string")throw Error("Invalid request opion. attribute must be a non-zero length string.");e=e.trim();if(!e)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!e.match(v))throw Error("Invalid request option. invalid attribute name: "+e);return e}function m(e){if(!e.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");var t={};var r={};var n=e.split(/\s+/);for(var i=0;i<n.length;i++){var a=n[i];if(!a)continue;var a=g(a);var s=a.toLowerCase();if(t[s])throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.");r[a]=true;t[s]=true}return Object.keys(r)}function _(e){var t={};e.forEach(function(e){e.qualifiers.forEach(function(e){t[e.attrName]=true})});return Object.keys(t)}var b=function(){function o(e){var t=this;this.connected=false;this.options=o.validateOptions(e);this.observerOptions=o.createObserverOptions(this.options.queries);this.root=this.options.rootNode;this.callback=this.options.callback;this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(e){return e.elementFilter?e.elementFilter:[]}));if(!this.elementFilter.length)this.elementFilter=undefined;this.calcReordered=this.options.queries.some(function(e){return e.all});this.queryValidators=[];if(o.createQueryValidator){this.queryValidators=this.options.queries.map(function(e){return o.createQueryValidator(t.root,e)})}this.observer=new i(function(e){t.observerCallback(e)});this.reconnect()}o.createObserverOptions=function(e){var r={childList:true,subtree:true};var t;function n(e){if(r.attributes&&!t)return;r.attributes=true;r.attributeOldValue=true;if(!e){t=undefined;return}t=t||{};e.forEach(function(e){t[e]=true;t[e.toLowerCase()]=true})}e.forEach(function(e){if(e.characterData){r.characterData=true;r.characterDataOldValue=true;return}if(e.all){n();r.characterData=true;r.characterDataOldValue=true;return}if(e.attribute){n([e.attribute.trim()]);return}var t=_(e.elementFilter).concat(e.attributeList||[]);if(t.length)n(t)});if(t)r.attributeFilter=Object.keys(t);return r};o.validateOptions=function(e){for(var t in e){if(!(t in o.optionKeys))throw Error("Invalid option: "+t)}if(typeof e.callback!=="function")throw Error("Invalid options: callback is required and must be a function");if(!e.queries||!e.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");var r={callback:e.callback,rootNode:e.rootNode||document,observeOwnChanges:!!e.observeOwnChanges,oldPreviousSibling:!!e.oldPreviousSibling,queries:[]};for(var n=0;n<e.queries.length;n++){var i=e.queries[n];if(i.all){if(Object.keys(i).length>1)throw Error("Invalid request option. all has no options.");r.queries.push({all:true});continue}if("attribute"in i){var a={attribute:g(i.attribute)};a.elementFilter=p.parseSelectors("*["+a.attribute+"]");if(Object.keys(i).length>1)throw Error("Invalid request option. attribute has no options.");r.queries.push(a);continue}if("element"in i){var s=Object.keys(i).length;var a={element:i.element,elementFilter:p.parseSelectors(i.element)};if(i.hasOwnProperty("elementAttributes")){a.attributeList=m(i.elementAttributes);s--}if(s>1)throw Error("Invalid request option. element only allows elementAttributes option.");r.queries.push(a);continue}if(i.characterData){if(Object.keys(i).length>1)throw Error("Invalid request option. characterData has no options.");r.queries.push({characterData:true});continue}throw Error("Invalid request option. Unknown query request.")}return r};o.prototype.createSummaries=function(e){if(!e||!e.length)return[];var t=new l(this.root,e,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling);var r=[];for(var n=0;n<this.options.queries.length;n++){r.push(new c(t,this.options.queries[n]))}return r};o.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(e){if(e)e.recordPreviousState()})};o.prototype.runQueryValidators=function(r){this.queryValidators.forEach(function(e,t){if(e)e.validate(r[t])})};o.prototype.changesToReport=function(e){return e.some(function(t){var e=["added","removed","reordered","reparented","valueChanged","characterDataChanged"];if(e.some(function(e){return t[e]&&t[e].length}))return true;if(t.attributeChanged){var r=Object.keys(t.attributeChanged);var n=r.some(function(e){return!!t.attributeChanged[e].length});if(n)return true}return false})};o.prototype.observerCallback=function(e){if(!this.options.observeOwnChanges)this.observer.disconnect();var t=this.createSummaries(e);this.runQueryValidators(t);if(this.options.observeOwnChanges)this.checkpointQueryValidators();if(this.changesToReport(t))this.callback(t);if(!this.options.observeOwnChanges&&this.connected){this.checkpointQueryValidators();this.observer.observe(this.root,this.observerOptions)}};o.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions);this.connected=true;this.checkpointQueryValidators()};o.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");var e=this.createSummaries(this.observer.takeRecords());return this.changesToReport(e)?e:undefined};o.prototype.disconnect=function(){var e=this.takeSummaries();this.observer.disconnect();this.connected=false;return e};o.NodeMap=h;o.parseElementFilter=p.parseSelectors;o.optionKeys={callback:true,queries:true,rootNode:true,oldPreviousSibling:true,observeOwnChanges:true};return o}();t.exports=b},{}],"/home/jarvis/nodeapp/client/js/polyfill.js":[function(e,t,r){"use strict";if(!String.prototype.repeat){String.prototype.repeat=function(e){"use strict";if(this==null){throw new TypeError("can't convert "+this+" to object")}var t=""+this;e=+e;if(e!=e){e=0}if(e<0){throw new RangeError("repeat count must be non-negative")}if(e==Infinity){throw new RangeError("repeat count must be less than infinity")}e=Math.floor(e);if(t.length==0||e==0){return""}if(t.length*e>=1<<28){throw new RangeError("repeat count must not overflow maximum string size")}var r=t.length*e;e=Math.floor(Math.log(e)/Math.log(2));while(e){t+=t;e--}t+=t.substring(0,r-t.length);return t}}},{}],"/home/jarvis/nodeapp/client/js/record/browser_size.js":[function(e,t,r){"use strict";function n(){var e=window,t=document,r=t.documentElement,n=document.body,i=e.innerWidth||r.clientWidth||n.clientWidth,a=e.innerHeight||r.clientHeight||n.clientHeight;return[i,a]}t.exports={getDimensions:n}},{}],"/home/jarvis/nodeapp/client/js/record/camera.js":[function(e,t,r){"use strict";var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}}();function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}e("../polyfill.js");e("es6-promise").polyfill();var i=e("../doc-ready");var o=e("../tree-mirror").TreeMirrorClient;var l=e("../utils.js");var a=e("../utils.js").debounce;var h=e("../utils.js").localStorageSupported;var c=e("pako/dist/pako_deflate.min");var d=e("reqwest");var f=e("./browser_size").getDimensions;var p=document.body||document.getElementsByTagName("body")[0];var v=document.getElementsByTagName("html")[0];var g=parseInt(Math.random()*1e5);var m=function(){function t(){s(this,t);try{if(!window.sessionStorage){this.tabId=Math.round(1e4*Math.random())}var e="_uxl_tab_id";this.tabId=window.sessionStorage.getItem(e);if(!this.tabId){this.tabId=Math.round(1e4*Math.random());window.sessionStorage.setItem(e,this.tabId)}}catch(e){this.tabId=Math.round(1e4*Math.random())}}n(t,[{key:"getTabId",value:function e(){return this.tabId}}]);return t}();var _=new m;function b(e){var t=e+"=";var r=decodeURIComponent(document.cookie);var n=r.split(";");for(var i=0;i<n.length;i++){var a=n[i];while(a.charAt(0)==" "){a=a.substring(1)}if(a.indexOf(t)==0){return a.substring(t.length,a.length)}}return""}var y=function(){function e(){s(this,e);this.state={uid:undefined,tags:[],url:window.location.href,hostname:window.location.hostname,protocol:window.location.protocol,starttime:(new Date).getTime(),utm_source:this.getQueryStringValue("utm_source")||undefined,utm_medium:this.getQueryStringValue("utm_medium")||undefined,utm_campaign:this.getQueryStringValue("utm_campaign")||undefined,referrer:document.referrer||undefined};this.callbacks=[];this.ready=false}n(e,[{key:"getQueryStringValue",value:function e(t){try{return decodeURI(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+escape(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}catch(e){return undefined}}},{key:"init",value:function e(){var t=this;t.state.dimensions=f();t.state.pageId=g;t.state.tabId=_.getTabId();t.state.ua=window.navigator.userAgent;t.state.resolution=[window.screen.width,window.screen.height];t.ready=true;for(var r=0;r<t.callbacks.length;r++){t.callbacks[r]()}window.addEventListener("resize",a(function(e){t.state.dimensions=f()},100))}},{key:"getState",value:function e(){return JSON.parse(JSON.stringify(this.state,["resolution","dimensions","pageId","starttime","tabId"]))}},{key:"onReady",value:function e(t){this.callbacks.push(t);if(this.ready){t()}}}]);return e}();var w=function(){function a(e,t,r){s(this,a);var n=this;this.apiKey=e;this.messageBuffer=[];this.socket=null;this.canSendData=false;this.dataSendinginterval=r&&r.dataSendinginterval||2e3;this.localStorageSupported=h();this.host=t;var i=document.createElement("iframe");n.iframe=i;i.style.width=i.style.height=0;i.style.border="none";i.style.visibility="hidden";i.style.position="absolute";i.style.top="-600px";i.dataset.uxlIgnoreFrame="true";i.src=n.rootURL+("storage?apiKey="+e);n.storageReady=new Promise(function(t,e){n.storageInit=function(){i.addEventListener("load",function e(){n.iframeWindow=i.contentWindow;i.removeEventListener("load",e);t(true)});document.body.appendChild(i)}})}n(a,[{key:"prepareStorage",value:function e(){this.storageInit()}},{key:"clearStorage",value:function e(){this.toStorage("stop",1);this.toStorage("clear",1)}},{key:"storeRequestParams",value:function e(){this.toStorage("request-params",{url:this.cameraURL.replace("camera","list"),method:"POST",headers:u({"api-key":this.apiKey,"Content-Type":"application/json"},this.getCookies()),withCredentials:true})}},{key:"toStorage",value:function e(t,r){var n=this;n.storageReady.then(function(){n.iframeWindow.postMessage([t,r],"*")})}},{key:"setCookie",value:function e(t,r){if(this.localStorageSupported){window.localStorage.setItem("uxcookie-"+t,JSON.stringify(r))}}},{key:"getCookies",value:function e(){var t={};if(this.localStorageSupported){var r=Object.keys(window.localStorage);var n=new Date;for(var i=0;i<r.length;i++){if(r[i].indexOf("uxcookie-")!==0){continue}var a=JSON.parse(window.localStorage.getItem(r[i]));var s=r[i].split("uxcookie-")[1];a.expires=new Date(a.expires);if(a.expires>n){t[s]=a.value}else{window.localStorage.removeItem(r[i])}}}return t}},{key:"beginStoring",value:function e(){this.canStore=true}},{key:"beginSending",value:function e(){this.canSendData=true;this.canStore=false;this.toStorage("send",1)}},{key:"post",value:function e(t,r,n,i,a){var s=this;var o=JSON.stringify(r);l.deflate(o).then(function(e){if(!i){i=function e(){}}if(!a){a={}}if(a.toStorage){s.toStorage("post",l.arrayToBinString(e));n({failedSheets:[]})}else{fetch(t,{method:"POST",body:e,headers:u({"Content-Type":"application/octet-jstream","Content-Encoding":"deflate","api-key":s.apiKey},s.getCookies()),credentials:"include"}).then(function(e){return e.json()}).then(n).catch(i)}})}},{key:"prepareSocketData",value:function e(t){var r=this;return c.deflate(JSON.stringify({headers:{"api-key":r.apiKey,websiteId:r.websiteId},body:t}),{to:"string"})}},{key:"send",value:function e(t){var r=this;if(r.socket&&r.canSendData&&r.socket.readyState===WebSocket.OPEN){if(r.messageBuffer.length>0){r.socket.send(r.prepareSocketData(r.messageBuffer.splice(0,r.messageBuffer.length)))}r.socket.send(r.prepareSocketData([t]))}else{r.messageBuffer.push(t)}}},{key:"upgradeToWebsocket",value:function e(){if(this.socket)return;this.stopPosting=true;var t=this.cameraURL.replace("http","ws");this.socket=new WebSocket(t)}},{key:"bulkSend",value:function e(a){if(this.stopPosting){return}if(!a){a={}}var t=this.canStore||this.canSendData;var s=this;var o=function e(){};a.toStorage=this.canStore;if(t&&this.messageBuffer.length>0){var r=this.messageBuffer.splice(0,this.messageBuffer.length);s.post(this.cameraURL,r,function(e){if(e.success===false){o();return}if(a.callback){a.callback(e)}if(e.failedSheets&&e.failedSheets.length){for(var t=0;t<e.failedSheets.length;t++){var r=function e(t,r){return function(e){return d({url:s.assetsURL,method:"post",headers:{"api-key":s.apiKey},withCredentials:true,data:{url:t,body:e,status:r.request.status,headers:r.request.getAllResponseHeaders()}})}};var n=e.failedSheets[t];var i=d({url:n.substring(n.indexOf("http://")),crossDomain:n.indexOf("//"+window.location.host)<0});i.then(r(n,i))}}},o,a)}setTimeout(function(){s.bulkSend.apply(s,[a])},s.dataSendinginterval)}},{key:"rootURL",get:function e(){return this.host+"collect/"}},{key:"cameraURL",get:function e(){return this.rootURL+"camera"}},{key:"assetsURL",get:function e(){return this.rootURL+"assets"}},{key:"configURL",get:function e(){return this.rootURL+"conf"}},{key:"taggingUrl",get:function e(){return this.rootURL+"tag"}}]);return a}();var k=function(){function t(){s(this,t);var r=this;this.rejectHandlers=[];this.mirroring=false;this.flags={};this.postInitCallbacks=[];this.styleSheets=[];if(document.styleSheets&&document.styleSheets.length>0){for(var e=0;e<document.styleSheets.length;e++){this.styleSheets.push(document.styleSheets[e].href)}}this.metaData=new y;this.finishInit;this.initialized=new Promise(function(e,t){r.finishInit=e})}n(t,[{key:"record",value:function e(t,r){var a=this;a.apiKey=t;if(a.recording){return}a.recording=true;if(!a.host){var n=document.getElementsByTagName("script");for(var i=n.length-1;i>=0;i--){if(n[i].getAttribute("data-main")==="__SREC__"){a.host=n[i].src.replace(/(\/\/.*?\/).*/g,"$1");break}}}a.transporter=new w(t,a.host,r);a.metaData.init();if(a.apiKey){a.siteConfigPromise=new Promise(function(n,i){a.transporter.post(a.transporter.configURL,{srecSession:b("SREC_SESSION")},function(e){if(e.success){var r=e;document.cookie=r.srecSession;if(r.newSession){a.transporter.clearStorage();a.tag("new")}a.metaData.onReady(function(){a.metaData.state.uid=a.metaData.state.uid||r.uid;a.socketSend({a_uid:a.metaData.state.uid,ua:a.metaData.state.ua,url:a.metaData.state.url,utm_source:a.metaData.state.utm_source,utm_medium:a.metaData.state.utm_medium,utm_campaign:a.metaData.state.utm_campaign,referrer:a.metaData.state.referrer},"userData");a.startMirroring.apply(a);setTimeout(function(){a.stopMirroring.apply(a);a.transporter.canSendData=false},1e3*60*60);a.transporter.websiteId=r.websiteId;var e=r.cookies||{};for(var t in r.cookies){a.transporter.setCookie(t,r.cookies[t])}a.postInit(r);n(r)});a.transporter.storeRequestParams();a.transporter.bulkSend({});a.finishInit()}else{i(e);for(var t=0;t<a.rejectHandlers.length;t++){a.rejectHandlers[t](e)}}},function(e){console.log("ERROR")})});a.siteConfigPromise.catch(function(){})}window.addEventListener("pagehide",function(){a.transporter.bulkSend({});a.stopMirroring.apply(a)});var s=true;if(r&&r.captureErrors===false){s=false}if(s){window.addEventListener("error",function(e){a.socketSend({message:e.message,filename:e.filename,line:e.lineno},"errors")})}document.addEventListener("scroll",a.getDebouncedScrollRecorder(),true);document.addEventListener("mousemove",a.getDebouncedMouseRecorder());document.addEventListener("click",a.getMouseRecorder());a.addListenerMulti(document,"change keyup",a.getKeyUpHandler.apply(a),true);a.initDomEventCapture();a.initStyleSheetUpdates();a.textClicked=a.textClicked.bind(a);document.addEventListener("click",a.textClicked,true)}},{key:"setHost",value:function e(t){this.host=t}},{key:"init",value:function e(t,r){this.record(t,r);this.send()}},{key:"store",value:function e(){var t=this;t.siteConfigPromise.then(function(){t.transporter.prepareStorage();t.transporter.beginStoring()}).catch(function(e){})}},{key:"send",value:function e(t){var r=this;if(!t){t={}}r.siteConfigPromise.then(function(e){r.transporter.beginSending();if(!e.live){r.transporter.bulkSend({callback:function e(t){if(t.liveStream){r.live()}}})}else{r.transporter.upgradeToWebsocket()}}).catch(function(e){})}},{key:"onReject",value:function e(t){this.rejectHandlers.push(t)}},{key:"uid",value:function e(t){this.sendAfterInit({c_uid:t},"userData")}},{key:"live",value:function e(){var t=this;t.stopMirroring();setTimeout(function(){t.transporter.upgradeToWebsocket();t.startMirroring.apply(t)},500)}},{key:"tag",value:function e(t,r){this.metaData.state.tags.push(t);this.sendAfterInit({tag:t,data:r},"userData")}},{key:"postInit",value:function e(t){var r=this;for(var n=0;n<r.postInitCallbacks.length;n++){var i=r.postInitCallbacks[n];i(t)}}},{key:"getSessionInfo",value:function e(t){var r=this;if(r.siteConfigPromise){r.siteConfigPromise.then(function(e){t({session:{isNew:e.newSession,url:e.sessionURL}})})}else{this.postInitCallbacks.push(function(e){t({session:{isNew:e.newSession,url:e.sessionURL}})})}}},{key:"startMirroring",value:function e(){var a=this;a.mirroring=true;a.recordScrollPosition(p,p.scrollLeft,p.scrollTop);a.mirrorClient=new o(document,{initialize:function e(t,r){a.socketSend({f:"allclear",args:[]});a.socketSend({f:"base",args:[{base:window.location.href.match(/^(.*\/)[^\/]*$/)[1]}]});a.socketSend({f:"initialize",args:[t,r]})},applyChanged:function e(t,r,n,i){a.socketSend({f:"applyChanged",args:[t,r,n,i]})}},null,{recorderHost:a.host});a.socketSend({styleSheets:a.styleSheets},"proxy")}},{key:"stopMirroring",value:function e(){var t=this;if(t.mirroring){t.mirroring=false;t.mirrorClient.disconnect();t.transporter.bulkSend()}}},{key:"sendAfterInit",value:function e(t,r){var n=this;n.initialized.then(function(){n.socketSend(t,r)})}},{key:"socketSend",value:function e(t,r){var n=this;var i=n.metaData.getState();i.offset=(new Date).getTime()-i.starttime;i.url=window.location.href;i.title=window.document.title;i.source=r||"dom";n.transporter.send({data:t,meta:i})}},{key:"domEvent",value:function e(t){var r=this;r.socketSend(t,"domevent")}},{key:"clicked",value:function e(t){var r=this;t.type="clicked";r.domEvent(t)}},{key:"changed",value:function e(t){var r=this;t.type="changed";r.domEvent(t)}},{key:"initStyleSheetUpdates",value:function e(){var r=this;var n=CSSStyleSheet.prototype.insertRule;CSSStyleSheet.prototype.insertRule=function(e,t){try{if(r.mirrorClient.knownNodes.get(this.ownerNode)){r.socketSend({f:"insertRule",args:[{id:r.mirrorClient.knownNodes.get(this.ownerNode),args:Array.from(arguments)}]},"dom")}else{if(!r.mirrorClient.cssRules[this.ownerNode]){r.mirrorClient.cssRules[this.ownerNode]=[];for(e in r.mirrorClient.cssRules){r.mirrorClient.cssRules[this.ownerNode].push({cssText:e.cssText})}}r.mirrorClient.cssRules[this.ownerNode].push({cssText:e})}}catch(e){r.socketSend({message:e.message,filename:e.filename,line:e.lineno},"errors")}return n.apply(this,arguments)};var t=CSSStyleSheet.prototype.deleteRule;CSSStyleSheet.prototype.deleteRule=function(e){try{if(r.mirrorClient.knownNodes.get(this.ownerNode)){r.socketSend({f:"deleteRule",args:[{id:r.mirrorClient.knownNodes.get(this.ownerNode),args:Array.from(arguments)}]},"dom")}}catch(e){}return t.apply(this,arguments)}}},{key:"initDomEventCapture",value:function e(){var i=this;var a={0:"",1:"",2:"t",3:"b"};function s(e){var t=e.id||"";if(typeof t!=="string"){t=""}t=t.trim().length>0?"#"+e.id:"";var r=e.className||"";if(typeof r!=="string"){r=r.baseVal||""}r=r.trim().length>0?r.split(" "):[];r=r.sort().map(function(e){return"."+e}).join("");return e.nodeName.toLowerCase()+t+r}var o=Event.prototype.stopPropagation;Event.prototype.stopPropagation=function(){o.apply(this,arguments);try{var e=this.target;var t=a[this.eventPhase];var r=[];while(e){var n=s(e);if(t){n+="%"+t}if(t===a[2]){n+="%"+a[3]}r.push(n);if(e===this.currentTarget){t=a[1]}e=e.parentNode}i.clicked({path:r.reverse(),text:this.target&&this.target.innerText})}catch(e){i.socketSend({message:e.message,filename:e.filename,line:e.lineno},"errors")}};document.addEventListener("click",function(e){var t=e.target;var r=[];while(t){var n=s(t);n+="%"+a[3];r.push(n);t=t.parentNode}i.clicked({path:r.reverse(),text:e.target&&e.target.innerText})});document.addEventListener("change",function(e){var t=e.target;var r=[];while(t){var n=s(t);n+="%"+a[3];r.push(n);t=t.parentNode}i.changed({path:r.reverse()})})}},{key:"firstLevelText",value:function e(t){var r=t.firstChild,n=[];while(r){if(r.nodeType==3){n.push(r.data)}r=r.nextSibling}var i=this.shorten(n.join("").trim());if(i.length>0)return i;return null}},{key:"shorten",value:function e(t){var r=70;var n=t.substr(0,r);if(t.length>r){n=n.substr(0,Math.min(n.length,n.lastIndexOf(" ")))}return n}},{key:"textClicked",value:function e(t){var r=this;var n=r.firstLevelText(t.target);if(n){r.socketSend({type:"textClick",text:n,dt:(new Date).getTime()-r.metaData.starttime},"textClick")}}},{key:"recordScrollPosition",value:function e(t,r,n){if(!t)return;if(!t.setAttribute&&t.setAttributeNode){var i=document.createAttribute("srScrollLeft");i.nodeValue=r;t.setAttributeNode(i);var a=document.createAttribute("srScrollRight");a.nodeValue=right;t.setAttributeNode(a)}else if(t.setAttribute){t.setAttribute("sr-scroll-left",r);t.setAttribute("sr-scroll-top",n)}}},{key:"getDebouncedScrollRecorder",value:function e(t){var i=this;return a(function(e){if(!i.mirroring){return}var t=e.target;if(t.srcElement){t=t.srcElement}if(t.scrollingElement){t=t.scrollingElement}if(!t){return}var r,n;r=t.scrollLeft;n=t.scrollTop;if((e.pageY||window.pageYOffset)&&(t===document||t===p||t===v)){r=e.pageX||window.pageXOffset;n=e.pageY||window.pageYOffset;i.recordScrollPosition(v,r,n);i.recordScrollPosition(p,r,n)}else{i.recordScrollPosition(t,r,n)}},200)}},{key:"recordMouseEvent",value:function e(t,r){r.socketSend({type:t.type,x:t.clientX,y:t.clientY,px:t.pageX/document.body.scrollWidth,py:t.pageY/document.body.scrollHeight,dt:(new Date).getTime()-r.metaData.starttime},"mouse")}},{key:"getMouseRecorder",value:function e(t){var r=this;return function(e){r.mirroring&&r.recordMouseEvent(e,r)}}},{key:"getDebouncedMouseRecorder",value:function e(t){var r=this;return a(function(e){r.mirroring&&r.recordMouseEvent(e,r)},100)}},{key:"addListenerMulti",value:function e(t,r,n){r.split(" ").forEach(function(e){t.addEventListener(e,n,false)})}},{key:"getKeyUpHandler",value:function e(){var t=this;return function(e){if(l.isSensitive(e.target)){return}if(l.isFormElement(e.target)){e.target.setAttribute("sr-value",l.maskedAttributeValue(e.target,e.target.value));if(e.target.tagName==="INPUT"&&(e.target.type==="radio"||e.target.type==="radio")){e.target.setAttribute("sr-checked",l.maskedAttributeValue(e.target,e.target.checked))}}}}},{key:"tagSession",value:function e(t){var r=this;return function(e){if(!r.flags[t]){r.flags[t]=true;r.transporter.post(r.transporter.taggingUrl,{type:t},function(){})}}}}]);return t}();var S=window;var E="SrecObject";if(!S[E]&&window.__SREC__&&window.__SREC__.api_key){var C=S[E]="srec";S[C]=function(){(S[C].q=S[C].q||[]).push(arguments)};S[C]("init",window.__SREC__.api_key);if(window.__SREC__.uid){S[C]("uid",window.__SREC__.uid)}if(window.__SREC__.tags){for(var N=0;N<window.__SREC__.tags.length;N++){S[C]("tag",window.__SREC__.tags[N])}}}var x={init:true,record:true,send:true,uid:true,tag:true,setHost:true,onReject:true,live:true,getSessionInfo:true,store:true};i(function(){var i=window[window["SrecObject"]];i.q=i.q||[];var a=new k;function s(){while(i.q.length>0){var e=i.q.shift(0);var t=e[0];var r=[];for(var n=1;n<e.length;n++){r.push(e[n])}if(x[t]){a[t].apply(a,r)}}setTimeout(s,100)}s()});t.exports={}},{"../doc-ready":"/home/jarvis/nodeapp/client/js/doc-ready.js","../polyfill.js":"/home/jarvis/nodeapp/client/js/polyfill.js","../tree-mirror":"/home/jarvis/nodeapp/client/js/tree-mirror.js","../utils.js":"/home/jarvis/nodeapp/client/js/utils.js","./browser_size":"/home/jarvis/nodeapp/client/js/record/browser_size.js","es6-promise":"/home/jarvis/nodeapp/node_modules/es6-promise/dist/es6-promise.js","pako/dist/pako_deflate.min":"/home/jarvis/nodeapp/node_modules/pako/dist/pako_deflate.min.js",reqwest:"/home/jarvis/nodeapp/node_modules/reqwest/reqwest.js"}],"/home/jarvis/nodeapp/client/js/tree-mirror.js":[function(e,t,r){"use strict";var h=e("./mutation-summary");var c=e("./utils.js");var n=function(){function e(e,t){this.root=e;this.delegate=t;this.idMap={}}e.prototype.initialize=function(e,t){this.idMap={};this.idMap[e]=this.root;for(var r=0;r<t.length;r++){this.deserializeNode(t[r],this.root)}};e.prototype.applyCSS=function(e,t){};e.prototype.insertRule=function(t){var r=this.idMap[t.id];try{r.sheet.insertRule.apply(r.sheet,t.args)}catch(e){try{r.sheet.insertRule.apply(r.sheet,[t.args[0],r.sheet.cssRules.length])}catch(e){r.sheet.insertRule.apply(r.sheet,["",t.args[1]])}}};e.prototype.postDOMInsertion=function(e,t){if(e.tagName=="OPTION"&&t){t.value=t.getAttribute("sr-value")}};e.prototype.setSRAttribute=function(e,t,r){if(t.indexOf("sr-")===0){var n=t.split("sr-")[1];n=n.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()});if(n.indexOf("scroll")===0){var i={};var a=400;if(window.fastForward){a=10}i[n]=r;if(e.tagName==="BODY"){$("body,html").animate(i,a)}else{$(e).animate(i,a)}}else{try{e[n]=r}catch(e){console.log(e)}}}};e.prototype.deleteRule=function(e){var t=this.idMap[e.id];t.sheet.deleteRule.apply(t.sheet,e.args)};function s(e){if(!e)return;e.classList.add("uxl__hover");s(e.parentElement)}e.prototype.mouseMove=function(e,t,r){if(!isFinite(e)||!isFinite(t)){return}var n=this.root.elementFromPoint(e,t),i=this.root.querySelectorAll(".uxl__hover");for(var a=0;a<i.length;a++){if(!i[a].isSameNode(n)){i[a].classList.remove("uxl__hover")}}s(n)};e.prototype.applyChanged=function(e,t,r,n){var i=this;t.forEach(function(e){var t=i.deserializeNode(e);var r=i.deserializeNode(e.parentNode);var n=i.deserializeNode(e.previousSibling);if(t&&t.parentNode)t.parentNode.removeChild(t)});e.forEach(function(e){var t=i.deserializeNode(e);if(t&&t.parentNode)t.parentNode.removeChild(t)});t.forEach(function(e){var t=i.deserializeNode(e);var r=i.deserializeNode(e.parentNode);var n=i.deserializeNode(e.previousSibling);if(t){r.insertBefore(t,n?n.nextSibling:r.firstChild);i.postDOMInsertion(t,r)}});r.forEach(function(r){var n=i.deserializeNode(r);if(!n){return}if(n.nodeType===Node.COMMENT_NODE){return}Object.keys(r.attributes).forEach(function(e){var t=r.attributes[e];if(t===null){n.removeAttribute(e)}else{if(!i.delegate||!i.delegate.setAttribute||!i.delegate.setAttribute(n,e,t)){try{n.setAttribute(e,t)}catch(e){console.log(e)}}}i.setSRAttribute(n,e,t)})});n.forEach(function(e){var t=i.deserializeNode(e);if(t){t.textContent=e.textContent}});e.forEach(function(e){delete i.idMap[e.id]})};e.prototype.recursiveGetNS=function(e,t){if(!e)return null;if(e.namespaces&&e.namespaces[t]){return e.namespaces[t]}return this.recursiveGetNS(e.parentElement,t)};e.prototype.deserializeNode=function(n,e){var i=this;if(n===null)return null;var a=this.idMap[n.id];if(a)return a;var t=this.root.ownerDocument;if(t===null)t=this.root;switch(n.nodeType){case Node.COMMENT_NODE:a=t.createComment(n.textContent);break;case Node.TEXT_NODE:a=t.createTextNode(n.textContent);break;case Node.DOCUMENT_TYPE_NODE:a=t.implementation.createDocumentType(n.name,n.publicId,n.systemId);break;case Node.ELEMENT_NODE:var s=e||this.idMap[n.parentNode&&n.parentNode.id];if(this.delegate&&this.delegate.createElement)a=this.delegate.createElement(n.tagName,n);if(!a){if(n.tagName==="svg"&&!n.attributes["xmlns"]){n.attributes["xmlns"]="http://www.w3.org/2000/svg"}if(n.attributes["xmlns"]&&n.tagName!=="HTML"){a=t.createElementNS(n.attributes["xmlns"],n.tagName)}else if(s&&s.namespaceURI&&s.namespaceURI!=="http://www.w3.org/1999/xhtml"){a=t.createElementNS(s.namespaceURI,n.tagName)}else{var r=n.tagName.split("=")[0];a=t.createElement(r)}}Object.keys(n.attributes).forEach(function(e){if(!i.delegate||!i.delegate.setAttribute||!i.delegate.setAttribute(a,e,n.attributes[e])){if(e==="xmlns"||e.indexOf("xmlns:")===0){a.setAttribute(e,n.attributes[e]);a.namespaces=a.namespaces||{};a.namespaces[e.split(":")[1]]=n.attributes[e]}else if(e.indexOf(":")>=0){var t=n.attributes[e];var r=e.split(":")[0];var e=e.split(":")[1];r=i.recursiveGetNS(s,r);a.setAttributeNS(r,e,t)}else{try{a.setAttribute(e,n.attributes[e]);i.setSRAttribute(a,e,n.attributes[e])}catch(e){console.log(e)}}}});break}if(!a){console.log("ouch");return a}this.idMap[n.id]=a;if(e)e.appendChild(a);if(n.childNodes){for(var o=0;o<n.childNodes.length;o++){try{this.deserializeNode(n.childNodes[o],a)}catch(e){console.log(e)}}}return a};return e}();var i=function(){function e(e,t,r,n){var i=this;this.target=e;this.mirror=t;this.settings=n;this.nextId=1;this.knownNodes=new h.NodeMap;var a=this.serializeNode(e).id;this.cssRules={};var s=[];for(var o=e.firstChild;o;o=o.nextSibling){s.push(this.serializeNode(o,true))}this.mirror.initialize(a,s);var u=this;var l=[{all:true}];if(r)l=l.concat(r);this.mutationSummary=new h({rootNode:e,callback:function e(t){i.applyChanged(t)},queries:l})}e.prototype.serializeAttribute=function(e,n,t,r){var i=this;if(n.tagName=="INPUT"&&t=="value"&&c.needsMasking(n,i.knownNodes)){return c.maskedAttributeValue(n,r)}if(n.tagName=="IMG"&&t=="src"&&c.needsMasking(n,i.knownNodes)){var a=i.settings.recorderHost+"/lorempix/?width="+n.naturalWidth+"&height="+n.naturalHeight;if(!n.complete&&n.naturalHeight==0){var s=function e(t){var r=new Image;r.onload=function(){i.applyChanged([{removed:[],reordered:[],reparented:[],added:[],characterDataChanged:[],attributeChanged:{src:[n]}}])};r.src=t};s(r)}return a}return r};e.prototype.disconnect=function(){if(this.mutationSummary){this.mutationSummary.disconnect();this.mutationSummary=undefined}};e.prototype.rememberNode=function(e){var t=this.nextId++;this.knownNodes.set(e,t);return t};e.prototype.forgetNode=function(e){this.knownNodes.delete(e)};e.prototype.serializeNode=function(e,t){if(e===null)return null;var r=this.knownNodes.get(e);if(r!==undefined){return{id:r}}var n=c.needsMasking(e,this.knownNodes);var i={nodeType:e.nodeType,id:this.rememberNode(e)};switch(i.nodeType){case Node.DOCUMENT_TYPE_NODE:var a=e;i.name=a.name;i.publicId=a.publicId;i.systemId=a.systemId;break;case Node.COMMENT_NODE:case Node.TEXT_NODE:if(e.parentNode&&e.parentNode.tagName==="SCRIPT"){i.textContent=""}else if(n){i.textContent=c.mask((e.textContent||"").trim(),"text",true)}else{i.textContent=e.textContent}break;case Node.ELEMENT_NODE:var s=e;i.tagName=s.tagName;i.attributes={};for(var o=0;o<s.attributes.length;o++){var u=s.attributes[o];i.attributes[u.name]=this.serializeAttribute(i,e,u.name,u.value)}if(s.tagName=="TEXTAREA"||s.tagName=="SELECT"){if(c.isSensitive(s)){delete i.attributes["value"];break}}if(t&&s.childNodes.length){i.childNodes=[];for(var l=s.firstChild;l;l=l.nextSibling){i.childNodes.push(this.serializeNode(l,true))}}if(c.isFormElement(s)&&i.attributes.value){i.attributes.value=c.maskedAttributeValue(s,i.attributes.value)}if(s.tagName=="SELECT"&&!i.attributes.hasOwnProperty("value")){i.attributes["sr-value"]=c.maskedAttributeValue(s,s.value)}if(s.tagName==="STYLE"&&!s.disabled&&!s.href&&s.innerText.trim()===""&&s.sheet.cssRules){i.attributes["data-srec-styles"]=i.attributes["data-srec-styles"]||"";var h=this.cssRules[e]||s.sheet.cssRules;for(var o=0;o<h.length;o++){i.attributes["data-srec-styles"]+=h[o].cssText}}break}return i};e.prototype.serializeAddedAndMoved=function(e,t,r){var a=this;var n=e.concat(t).concat(r);var s=new h.NodeMap;n.forEach(function(e){var t=e.parentNode;var r=s.get(t);if(!r){r=new h.NodeMap;s.set(t,r)}r.set(e,true)});var o=[];s.keys().forEach(function(e){var t=s.get(e);var r=t.keys();while(r.length){var n=r[0];while(n.previousSibling&&t.has(n.previousSibling)){n=n.previousSibling}while(n&&t.has(n)){var i=a.serializeNode(n);i.previousSibling=a.serializeNode(n.previousSibling);i.parentNode=a.serializeNode(n.parentNode);o.push(i);t.delete(n);n=n.nextSibling}var r=t.keys()}});return o};e.prototype.serializeAttributeChanges=function(e){var n=this;var i=new h.NodeMap;Object.keys(e).forEach(function(r){e[r].forEach(function(e){if(r=="data-srec-mask"||r=="data-srec-nomask"){n.knownNodes.clearMaskStatus(e)}var t=i.get(e);if(!t){t=n.serializeNode(e);t.attributes={};i.set(e,t)}t.attributes[r]=n.serializeAttribute(t,e,r,e.getAttribute(r))})});return i.keys().map(function(e){return i.get(e)})};e.prototype.applyChanged=function(e){var r=this;var t=e[0];var n=t.removed.map(function(e){return r.serializeNode(e)});var i=this.serializeAddedAndMoved(t.added,t.reparented,t.reordered);var a=this.serializeAttributeChanges(t.attributeChanged);var s=t.characterDataChanged.map(function(e){var t=r.serializeNode(e);t.textContent=e.textContent;return t});this.mirror.applyChanged(n,i,a,s);t.removed.forEach(function(e){r.forgetNode(e)})};return e}();t.exports={TreeMirror:n,TreeMirrorClient:i}},{"./mutation-summary":"/home/jarvis/nodeapp/client/js/mutation-summary.js","./utils.js":"/home/jarvis/nodeapp/client/js/utils.js"}],"/home/jarvis/nodeapp/client/js/utils.js":[function(e,t,r){"use strict";var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=e("pako/dist/pako_deflate.min");var i=function e(i,a,s){var o;return function e(){var t=this,r=arguments;function n(){if(!s)i.apply(t,r);o=null}if(o)clearTimeout(o);else if(s)i.apply(t,r);o=setTimeout(n,a||100)}};function a(){var e="uxl_test_local_storage";try{localStorage.setItem(e,e);localStorage.removeItem(e);return true}catch(e){return false}}var s={name:["ccname","cardnumber","cvc","ccmonth","ccnumber","ccyear","exp-date","card-type","password","cvv","card[cvv]","card[number]","card[expiry]"],autocomplete:["cc-name","cc-number","cc-csc","cc-exp-month","cc-exp-year","cc-exp","cc-type","current-password","new-password"],type:["password"]};function u(e){for(var t=0;t<Object.keys(s).length;t++){var r=Object.keys(s)[t];for(var n=0;n<s[r].length;n++){var i=s[r][n];if(e.getAttribute(r)===i){return true}}}return false}function l(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"text";var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var n;if(t==="number"){n="0".repeat(e.toString().length)}else{if(r){n=e.toString().replace(/[^\s]/g,"*")}else{n="*".repeat(e.toString().length)}}return n}function h(e){return["TEXTAREA","INPUT","SELECT"].indexOf(e.tagName)>=0}function c(e,t){if(h(e)){if(u(e))return null;if(e.dataset&&e.dataset.hasOwnProperty("srecNomask"))return t;return l(t,e.type)}return t}function d(e,t){var r=t.getMaskStatus(e);if(r!==undefined){return r}if(e&&e.dataset&&e.dataset.hasOwnProperty("srecMask")){t.setMaskStatus(e,true);return true}if(e&&e.dataset&&e.dataset.hasOwnProperty("srecNomask")){t.setMaskStatus(e,false);return false}if(e.parentNode){var r=d(e.parentNode,t);t.setMaskStatus(e,r);return r}t.setMaskStatus(e,false);return false}function f(e){return e.toString().replace(/\s/g,"").toLowerCase()}function p(e){return Object.values(e).reduce(function(e,t){var r=t!==null&&t!==undefined;return e+((typeof t==="undefined"?"undefined":n(t))==="object"&&t!==null?f(p(t)):r?f(t):"")},"")}function v(t,e){return e.filter(function(e){return!!t.length?p(e).includes(f(t)):true})}function g(e){var t=navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(window.CompressionStream==undefined||t){return Promise.resolve(o.deflate(e))}var r=new CompressionStream("deflate");var n=r.writable.getWriter();var i=new TextEncoder;n.write(i.encode(e));n.close();var l=[];var a=r.readable.getReader();var h=0;var s=Promise.resolve(1);return a.read().then(function e(t){var r=t.value,n=t.done;if(n)return;l.push(r);h+=r.byteLength;return a.read().then(e)}).then(function(e){var t=new Uint8Array(h);var r=0;var n=true;var i=false;var a=undefined;try{for(var s=l[Symbol.iterator](),o;!(n=(o=s.next()).done);n=true){var u=o.value;t.set(u,r);r+=u.byteLength}}catch(e){i=true;a=e}finally{try{if(!n&&s.return){s.return()}}finally{if(i){throw a}}}return t})}function m(e){var t,r=e.length,n="";for(t=0;t<r;t++){n+=String.fromCharCode(e[t])}return n}function _(e){var t,r=e.length,n=new Uint8Array(r);for(var t=0;t<r;t++){n[t]=e.charCodeAt(t)}return n}t.exports={debounce:i,localStorageSupported:a,isSensitive:u,maskedAttributeValue:c,isFormElement:h,mask:l,needsMasking:d,filterObjects:v,deflate:g,arrayToBinString:m,binStringToArray:_}},{"pako/dist/pako_deflate.min":"/home/jarvis/nodeapp/node_modules/pako/dist/pako_deflate.min.js"}],"/home/jarvis/nodeapp/node_modules/browser-resolve/empty.js":[function(e,t,r){},{}],"/home/jarvis/nodeapp/node_modules/es6-promise/dist/es6-promise.js":[function(ae,r,n){(function(ne,ie){(function(e,t){typeof n==="object"&&typeof r!=="undefined"?r.exports=t():typeof define==="function"&&define.amd?define(t):e.ES6Promise=t()})(this,function(){"use strict";function n(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function u(e){return typeof e==="function"}var e=void 0;if(Array.isArray){e=Array.isArray}else{e=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}var r=e;var i=0;var t=void 0;var a=void 0;var s=function e(t,r){y[i]=t;y[i+1]=r;i+=2;if(i===2){if(a){a(w)}else{S()}}};function o(e){a=e}function l(e){s=e}var h=typeof window!=="undefined"?window:undefined;var c=h||{};var d=c.MutationObserver||c.WebKitMutationObserver;var f=typeof self==="undefined"&&typeof ne!=="undefined"&&{}.toString.call(ne)==="[object process]";var p=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function v(){return function(){return ne.nextTick(w)}}function g(){if(typeof t!=="undefined"){return function(){t(w)}}return b()}function m(){var e=0;var t=new d(w);var r=document.createTextNode("");t.observe(r,{characterData:true});return function(){r.data=e=++e%2}}function _(){var e=new MessageChannel;e.port1.onmessage=w;return function(){return e.port2.postMessage(0)}}function b(){var e=setTimeout;return function(){return e(w,1)}}var y=new Array(1e3);function w(){for(var e=0;e<i;e+=2){var t=y[e];var r=y[e+1];t(r);y[e]=undefined;y[e+1]=undefined}i=0}function k(){try{var e=Function("return this")().require("vertx");t=e.runOnLoop||e.runOnContext;return g()}catch(e){return b()}}var S=void 0;if(f){S=v()}else if(d){S=m()}else if(p){S=_()}else if(h===undefined&&typeof ae==="function"){S=k()}else{S=b()}function E(e,t){var r=this;var n=new this.constructor(x);if(n[N]===undefined){W(n)}var i=r._state;if(i){var a=arguments[i-1];s(function(){return B(i,n,a,r._result)})}else{V(r,n,e,t)}return n}function C(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var r=new t(x);q(r,e);return r}var N=Math.random().toString(36).substring(2);function x(){}var T=void 0;var A=1;var O=2;function D(){return new TypeError("You cannot resolve a promise with itself")}function R(){return new TypeError("A promises callback cannot return that same promise.")}function z(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function j(e,n,i){s(function(t){var r=false;var e=z(i,n,function(e){if(r){return}r=true;if(n!==e){q(t,e)}else{L(t,e)}},function(e){if(r){return}r=true;H(t,e)},"Settle: "+(t._label||" unknown promise"));if(!r&&e){r=true;H(t,e)}},e)}function I(t,e){if(e._state===A){L(t,e._result)}else if(e._state===O){H(t,e._result)}else{V(e,undefined,function(e){return q(t,e)},function(e){return H(t,e)})}}function M(e,t,r){if(t.constructor===e.constructor&&r===E&&t.constructor.resolve===C){I(e,t)}else{if(r===undefined){L(e,t)}else if(u(r)){j(e,t,r)}else{L(e,t)}}}function q(t,e){if(t===e){H(t,D())}else if(n(e)){var r=void 0;try{r=e.then}catch(e){H(t,e);return}M(t,e,r)}else{L(t,e)}}function P(e){if(e._onerror){e._onerror(e._result)}U(e)}function L(e,t){if(e._state!==T){return}e._result=t;e._state=A;if(e._subscribers.length!==0){s(U,e)}}function H(e,t){if(e._state!==T){return}e._state=O;e._result=t;s(P,e)}function V(e,t,r,n){var i=e._subscribers;var a=i.length;e._onerror=null;i[a]=t;i[a+A]=r;i[a+O]=n;if(a===0&&e._state){s(U,e)}}function U(e){var t=e._subscribers;var r=e._state;if(t.length===0){return}var n=void 0,i=void 0,a=e._result;for(var s=0;s<t.length;s+=3){n=t[s];i=t[s+r];if(n){B(r,n,i,a)}else{i(a)}}e._subscribers.length=0}function B(e,t,r,n){var i=u(r),a=void 0,s=void 0,o=true;if(i){try{a=r(n)}catch(e){o=false;s=e}if(t===a){H(t,R());return}}else{a=n}if(t._state!==T){}else if(i&&o){q(t,a)}else if(o===false){H(t,s)}else if(e===A){L(t,a)}else if(e===O){H(t,a)}}function Y(r,e){try{e(function e(t){q(r,t)},function e(t){H(r,t)})}catch(e){H(r,e)}}var X=0;function F(){return X++}function W(e){e[N]=X++;e._state=undefined;e._result=undefined;e._subscribers=[]}function Q(){return new Error("Array Methods must be provided an Array")}var K=function(){function e(e,t){this._instanceConstructor=e;this.promise=new e(x);if(!this.promise[N]){W(this.promise)}if(r(t)){this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0){L(this.promise,this._result)}else{this.length=this.length||0;this._enumerate(t);if(this._remaining===0){L(this.promise,this._result)}}}else{H(this.promise,Q())}}e.prototype._enumerate=function e(t){for(var r=0;this._state===T&&r<t.length;r++){this._eachEntry(t[r],r)}};e.prototype._eachEntry=function e(t,r){var n=this._instanceConstructor;var i=n.resolve;if(i===C){var a=void 0;var s=void 0;var o=false;try{a=t.then}catch(e){o=true;s=e}if(a===E&&t._state!==T){this._settledAt(t._state,r,t._result)}else if(typeof a!=="function"){this._remaining--;this._result[r]=t}else if(n===te){var u=new n(x);if(o){H(u,s)}else{M(u,t,a)}this._willSettleAt(u,r)}else{this._willSettleAt(new n(function(e){return e(t)}),r)}}else{this._willSettleAt(i(t),r)}};e.prototype._settledAt=function e(t,r,n){var i=this.promise;if(i._state===T){this._remaining--;if(t===O){H(i,n)}else{this._result[r]=n}}if(this._remaining===0){L(i,this._result)}};e.prototype._willSettleAt=function e(t,r){var n=this;V(t,undefined,function(e){return n._settledAt(A,r,e)},function(e){return n._settledAt(O,r,e)})};return e}();function J(e){return new K(this,e).promise}function $(i){var a=this;if(!r(i)){return new a(function(e,t){return t(new TypeError("You must pass an array to race."))})}else{return new a(function(e,t){var r=i.length;for(var n=0;n<r;n++){a.resolve(i[n]).then(e,t)}})}}function G(e){var t=this;var r=new t(x);H(r,e);return r}function Z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ee(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var te=function(){function t(e){this[N]=F();this._result=this._state=undefined;this._subscribers=[];if(x!==e){typeof e!=="function"&&Z();this instanceof t?Y(this,e):ee()}}t.prototype.catch=function e(t){return this.then(null,t)};t.prototype.finally=function e(t){var r=this;var n=r.constructor;if(u(t)){return r.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})})}return r.then(t,t)};return t}();te.prototype.then=E;te.all=J;te.race=$;te.resolve=C;te.reject=G;te._setScheduler=o;te._setAsap=l;te._asap=s;function re(){var e=void 0;if(typeof ie!=="undefined"){e=ie}else if(typeof self!=="undefined"){e=self}else{try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if(r==="[object Promise]"&&!t.cast){return}}e.Promise=te}te.polyfill=re;te.Promise=te;return te})}).call(this,ae("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:"/home/jarvis/nodeapp/node_modules/process/browser.js"}],"/home/jarvis/nodeapp/node_modules/pako/dist/pako_deflate.min.js":[function(c,r,n){(function(t){!function(e){if("object"==typeof n&&"undefined"!=typeof r)r.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:this).pako=e()}}(function(){return function a(s,o,u){function l(t,e){if(!o[t]){if(!s[t]){var r="function"==typeof c&&c;if(!e&&r)return r(t,!0);if(h)return h(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=o[t]={exports:{}};s[t][0].call(i.exports,function(e){return l(s[t][1][e]||e)},i,i.exports,a,s,o,u)}return o[t].exports}for(var h="function"==typeof c&&c,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t,r,n=Array.prototype.slice.call(arguments,1);n.length;){var i=n.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var a in i)t=i,r=a,Object.prototype.hasOwnProperty.call(t,r)&&(e[a]=i[a])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){var t,r,n,i,a,s;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(s=new Uint8Array(n),t=i=0,r=e.length;t<r;t++)a=e[t],s.set(a,i),i+=a.length;return s}},a={arraySet:function(e,t,r,n,i){for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(n)},{}],2:[function(e,t,r){"use strict";var u=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var l=new u.Buf8(256),n=0;n<256;n++)l[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;function h(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,u.shrinkBuf(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}l[254]=l[254]=1,r.string2buf=function(e){var t,r,n,i,a,s=e.length,o=0;for(i=0;i<s;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new u.Buf8(o),i=a=0;a<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t},r.buf2binstring=function(e){return h(e,e.length)},r.binstring2buf=function(e){for(var t=new u.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,a,s=t||e.length,o=new Array(2*s);for(r=n=0;r<s;)if((i=e[r++])<128)o[n++]=i;else if(4<(a=l[i]))o[n++]=65533,r+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&r<s;)i=i<<6|63&e[r++],a--;1<a?o[n++]=65533:i<65536?o[n++]=i:(i-=65536,o[n++]=55296|i>>10&1023,o[n++]=56320|1023&i)}return h(o,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+l[e[r]]>t?r:t}},{"./common":1}],3:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){for(var i=65535&e|0,a=e>>>16&65535|0,s=0;0!==r;){for(r-=s=2e3<r?2e3:r;a=a+(i=i+t[n++]|0)|0,--s;);i%=65521,a%=65521}return i|a<<16|0}},{}],4:[function(e,t,r){"use strict";var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,n){var i=o,a=n+r;e^=-1;for(var s=n;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}},{}],5:[function(e,t,r){"use strict";var u,d=e("../utils/common"),l=e("./trees"),f=e("./adler32"),p=e("./crc32"),n=e("./messages"),h=0,c=4,v=0,g=-2,m=-1,_=4,i=2,b=8,y=9,a=286,s=30,o=19,w=2*a+1,k=15,S=3,E=258,C=E+S+1,N=42,x=113,T=1,A=2,O=3,D=4;function R(e,t){return e.msg=n[t],t}function z(e){return(e<<1)-(4<e?9:0)}function j(e){for(var t=e.length;0<=--t;)e[t]=0}function I(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(d.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function M(e,t){l._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,I(e.strm)}function q(e,t){e.pending_buf[e.pending++]=t}function P(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function L(e,t){var r,n,i=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match,u=e.strstart>e.w_size-C?e.strstart-(e.w_size-C):0,l=e.window,h=e.w_mask,c=e.prev,d=e.strstart+E,f=l[a+s-1],p=l[a+s];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(l[(r=t)+s]===p&&l[r+s-1]===f&&l[r]===l[a]&&l[++r]===l[a+1]){a+=2,r++;do{}while(l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&a<d);if(n=E-(d-a),a=d-E,s<n){if(e.match_start=t,o<=(s=n))break;f=l[a+s-1],p=l[a+s]}}}while((t=c[t&h])>u&&0!=--i);return s<=e.lookahead?s:e.lookahead}function H(e){var t,r,n,i,a,s,o,u,l,h,c=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=c+(c-C)){for(d.arraySet(e.window,e.window,c,c,0),e.match_start-=c,e.strstart-=c,e.block_start-=c,t=r=e.hash_size;n=e.head[--t],e.head[t]=c<=n?n-c:0,--r;);for(t=r=c;n=e.prev[--t],e.prev[t]=c<=n?n-c:0,--r;);i+=c}if(0===e.strm.avail_in)break;if(s=e.strm,o=e.window,u=e.strstart+e.lookahead,l=i,h=void 0,h=s.avail_in,l<h&&(h=l),r=0===h?0:(s.avail_in-=h,d.arraySet(o,s.input,s.next_in,h,u),1===s.state.wrap?s.adler=f(s.adler,o,h,u):2===s.state.wrap&&(s.adler=p(s.adler,o,h,u)),s.next_in+=h,s.total_in+=h,h),e.lookahead+=r,e.lookahead+e.insert>=S)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+S-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<S)););}while(e.lookahead<C&&0!==e.strm.avail_in)}function V(e,t){for(var r,n;;){if(e.lookahead<C){if(H(e),e.lookahead<C&&t===h)return T;if(0===e.lookahead)break}if(r=0,e.lookahead>=S&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-C&&(e.match_length=L(e,r)),e.match_length>=S)if(n=l._tr_tally(e,e.strstart-e.match_start,e.match_length-S),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=S){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=l._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(M(e,!1),0===e.strm.avail_out))return T}return e.insert=e.strstart<S-1?e.strstart:S-1,t===c?(M(e,!0),0===e.strm.avail_out?O:D):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?T:A}function U(e,t){for(var r,n,i;;){if(e.lookahead<C){if(H(e),e.lookahead<C&&t===h)return T;if(0===e.lookahead)break}if(r=0,e.lookahead>=S&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=S-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-C&&(e.match_length=L(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===S&&4096<e.strstart-e.match_start)&&(e.match_length=S-1)),e.prev_length>=S&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-S,n=l._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-S),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=S-1,e.strstart++,n&&(M(e,!1),0===e.strm.avail_out))return T}else if(e.match_available){if((n=l._tr_tally(e,0,e.window[e.strstart-1]))&&M(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return T}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=l._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<S-1?e.strstart:S-1,t===c?(M(e,!0),0===e.strm.avail_out?O:D):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?T:A}function B(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function Y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*w),this.dyn_dtree=new d.Buf16(2*(2*s+1)),this.bl_tree=new d.Buf16(2*(2*o+1)),j(this.dyn_ltree),j(this.dyn_dtree),j(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(k+1),this.heap=new d.Buf16(2*a+1),j(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*a+1),j(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function X(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=i,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?N:x,e.adler=2===t.wrap?0:1,t.last_flush=h,l._tr_init(t),v):R(e,g)}function F(e){var t,r=X(e);return r===v&&((t=e.state).window_size=2*t.w_size,j(t.head),t.max_lazy_match=u[t.level].max_lazy,t.good_match=u[t.level].good_length,t.nice_match=u[t.level].nice_length,t.max_chain_length=u[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=S-1,t.match_available=0,t.ins_h=0),r}function W(e,t,r,n,i,a){if(!e)return g;var s=1;if(t===m&&(t=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),i<1||y<i||r!==b||n<8||15<n||t<0||9<t||a<0||_<a)return R(e,g);8===n&&(n=9);var o=new Y;return(e.state=o).strm=e,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+S-1)/S),o.window=new d.Buf8(2*o.w_size),o.head=new d.Buf16(o.hash_size),o.prev=new d.Buf16(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new d.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=a,o.method=r,F(e)}u=[new B(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(H(e),0===e.lookahead&&t===h)return T;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,M(e,!1),0===e.strm.avail_out))return T;if(e.strstart-e.block_start>=e.w_size-C&&(M(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===c?(M(e,!0),0===e.strm.avail_out?O:D):(e.strstart>e.block_start&&(M(e,!1),e.strm.avail_out),T)}),new B(4,4,8,4,V),new B(4,5,16,8,V),new B(4,6,32,32,V),new B(4,4,16,16,U),new B(8,16,32,32,U),new B(8,16,128,128,U),new B(8,32,128,256,U),new B(32,128,258,1024,U),new B(32,258,258,4096,U)],r.deflateInit=function(e,t){return W(e,t,b,15,8,0)},r.deflateInit2=W,r.deflateReset=F,r.deflateResetKeep=X,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?g:(e.state.gzhead=t,v):g},r.deflate=function(e,t){var r,n,i,a;if(!e||!e.state||5<t||t<0)return e?R(e,g):g;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&t!==c)return R(e,0===e.avail_out?-5:g);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===N)if(2===n.wrap)e.adler=0,q(n,31),q(n,139),q(n,8),n.gzhead?(q(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),q(n,255&n.gzhead.time),q(n,n.gzhead.time>>8&255),q(n,n.gzhead.time>>16&255),q(n,n.gzhead.time>>24&255),q(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),q(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(q(n,255&n.gzhead.extra.length),q(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=p(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(q(n,0),q(n,0),q(n,0),q(n,0),q(n,0),q(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),q(n,3),n.status=x);else{var s=b+(n.w_bits-8<<4)<<8;s|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(s|=32),s+=31-s%31,n.status=x,P(n,s),0!==n.strstart&&(P(n,e.adler>>>16),P(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),I(e),i=n.pending,n.pending!==n.pending_buf_size));)q(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),I(e),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}q(n,a=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0)}while(0!==a);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===a&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),I(e),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}q(n,a=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0)}while(0!==a);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===a&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&I(e),n.pending+2<=n.pending_buf_size&&(q(n,255&e.adler),q(n,e.adler>>8&255),e.adler=0,n.status=x)):n.status=x),0!==n.pending){if(I(e),0===e.avail_out)return n.last_flush=-1,v}else if(0===e.avail_in&&z(t)<=z(r)&&t!==c)return R(e,-5);if(666===n.status&&0!==e.avail_in)return R(e,-5);if(0!==e.avail_in||0!==n.lookahead||t!==h&&666!==n.status){var o=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(H(e),0===e.lookahead)){if(t===h)return T;break}if(e.match_length=0,r=l._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(M(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===c?(M(e,!0),0===e.strm.avail_out?O:D):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?T:A}(n,t):3===n.strategy?function(e,t){for(var r,n,i,a,s=e.window;;){if(e.lookahead<=E){if(H(e),e.lookahead<=E&&t===h)return T;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=S&&0<e.strstart&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=e.strstart+E;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=E-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=S?(r=l._tr_tally(e,1,e.match_length-S),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=l._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(M(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===c?(M(e,!0),0===e.strm.avail_out?O:D):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?T:A}(n,t):u[n.level].func(n,t);if(o!==O&&o!==D||(n.status=666),o===T||o===O)return 0===e.avail_out&&(n.last_flush=-1),v;if(o===A&&(1===t?l._tr_align(n):5!==t&&(l._tr_stored_block(n,0,0,!1),3===t&&(j(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),I(e),0===e.avail_out))return n.last_flush=-1,v}return t!==c?v:n.wrap<=0?1:(2===n.wrap?(q(n,255&e.adler),q(n,e.adler>>8&255),q(n,e.adler>>16&255),q(n,e.adler>>24&255),q(n,255&e.total_in),q(n,e.total_in>>8&255),q(n,e.total_in>>16&255),q(n,e.total_in>>24&255)):(P(n,e.adler>>>16),P(n,65535&e.adler)),I(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?v:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==N&&69!==t&&73!==t&&91!==t&&103!==t&&t!==x&&666!==t?R(e,g):(e.state=null,t===x?R(e,-3):v):g},r.deflateSetDictionary=function(e,t){var r,n,i,a,s,o,u,l,h=t.length;if(!e||!e.state)return g;if(2===(a=(r=e.state).wrap)||1===a&&r.status!==N||r.lookahead)return g;for(1===a&&(e.adler=f(e.adler,t,h,0)),r.wrap=0,h>=r.w_size&&(0===a&&(j(r.head),r.strstart=0,r.block_start=0,r.insert=0),l=new d.Buf8(r.w_size),d.arraySet(l,t,h-r.w_size,r.w_size,0),t=l,h=r.w_size),s=e.avail_in,o=e.next_in,u=e.input,e.avail_in=h,e.next_in=0,e.input=t,H(r);r.lookahead>=S;){for(n=r.strstart,i=r.lookahead-(S-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+S-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--i;);r.strstart=n,r.lookahead=S-1,H(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=S-1,r.match_available=0,e.next_in=o,e.input=u,e.avail_in=s,r.wrap=a,v},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(e,t,r){"use strict";var u=e("../utils/common"),o=0,l=1;function n(e){for(var t=e.length;0<=--t;)e[t]=0}var h=0,s=29,c=256,d=c+1+s,f=30,p=19,g=2*d+1,m=15,i=16,v=7,_=256,b=16,y=17,w=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(2*(d+2));n(N);var x=new Array(2*f);n(x);var T=new Array(512);n(T);var A=new Array(256);n(A);var O=new Array(s);n(O);var D,R,z,j=new Array(f);function I(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function a(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function M(e){return e<256?T[e]:T[256+(e>>>7)]}function q(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function P(e,t,r){e.bi_valid>i-r?(e.bi_buf|=t<<e.bi_valid&65535,q(e,e.bi_buf),e.bi_buf=t>>i-e.bi_valid,e.bi_valid+=r-i):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function L(e,t,r){P(e,r[2*t],r[2*t+1])}function H(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function V(e,t,r){var n,i,a=new Array(m+1),s=0;for(n=1;n<=m;n++)a[n]=s=s+r[n-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=H(a[o]++,o))}}function U(e){var t;for(t=0;t<d;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<p;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*_]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function B(e){8<e.bi_valid?q(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Y(e,t,r,n){var i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function X(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&Y(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Y(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function F(e,t,r){var n,i,a,s,o=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===n?L(e,i,t):(L(e,(a=A[i])+c+1,t),0!==(s=k[a])&&P(e,i-=O[a],s),L(e,a=M(--n),r),0!==(s=S[a])&&P(e,n-=j[a],s)),o<e.last_lit;);L(e,_,t)}function W(e,t){var r,n,i,a=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=g,r=0;r<u;r++)0!==a[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=s[2*i+1]);for(t.max_code=l,r=e.heap_len>>1;1<=r;r--)X(e,a,r);for(i=u;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],X(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,a[2*i]=a[2*r]+a[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,a[2*r+1]=a[2*n+1]=i,e.heap[1]=i++,X(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,a,s,o,u=t.dyn_tree,l=t.max_code,h=t.stat_desc.static_tree,c=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(a=0;a<=m;a++)e.bl_count[a]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<g;r++)p<(a=u[2*u[2*(n=e.heap[r])+1]+1]+1)&&(a=p,v++),u[2*n+1]=a,l<n||(e.bl_count[a]++,s=0,f<=n&&(s=d[n-f]),o=u[2*n],e.opt_len+=o*(a+s),c&&(e.static_len+=o*(h[2*n+1]+s)));if(0!==v){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,v-=2}while(0<v);for(a=p;0!==a;a--)for(n=e.bl_count[a];0!==n;)l<(i=e.heap[--r])||(u[2*i+1]!==a&&(e.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),n--)}}(e,t),V(a,l,e.bl_count)}function Q(e,t,r){var n,i,a=-1,s=t[1],o=0,u=7,l=4;for(0===s&&(u=138,l=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=t[2*(n+1)+1],++o<u&&i===s||(o<l?e.bl_tree[2*i]+=o:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*b]++):o<=10?e.bl_tree[2*y]++:e.bl_tree[2*w]++,a=i,(o=0)===s?(u=138,l=3):i===s?(u=6,l=3):(u=7,l=4))}function K(e,t,r){var n,i,a=-1,s=t[1],o=0,u=7,l=4;for(0===s&&(u=138,l=3),n=0;n<=r;n++)if(i=s,s=t[2*(n+1)+1],!(++o<u&&i===s)){if(o<l)for(;L(e,i,e.bl_tree),0!=--o;);else 0!==i?(i!==a&&(L(e,i,e.bl_tree),o--),L(e,b,e.bl_tree),P(e,o-3,2)):o<=10?(L(e,y,e.bl_tree),P(e,o-3,3)):(L(e,w,e.bl_tree),P(e,o-11,7));a=i,(o=0)===s?(u=138,l=3):i===s?(u=6,l=3):(u=7,l=4)}}n(j);var J=!1;function $(e,t,r,n){var i,a,s,o;P(e,(h<<1)+(n?1:0),3),a=t,s=r,o=!0,B(i=e),o&&(q(i,s),q(i,~s)),u.arraySet(i.pending_buf,i.window,a,s,i.pending),i.pending+=s}r._tr_init=function(e){J||(function(){var e,t,r,n,i,a=new Array(m+1);for(n=r=0;n<s-1;n++)for(O[n]=r,e=0;e<1<<k[n];e++)A[r++]=n;for(A[r-1]=n,n=i=0;n<16;n++)for(j[n]=i,e=0;e<1<<S[n];e++)T[i++]=n;for(i>>=7;n<f;n++)for(j[n]=i<<7,e=0;e<1<<S[n]-7;e++)T[256+i++]=n;for(t=0;t<=m;t++)a[t]=0;for(e=0;e<=143;)N[2*e+1]=8,e++,a[8]++;for(;e<=255;)N[2*e+1]=9,e++,a[9]++;for(;e<=279;)N[2*e+1]=7,e++,a[7]++;for(;e<=287;)N[2*e+1]=8,e++,a[8]++;for(V(N,d+1,a),e=0;e<f;e++)x[2*e+1]=5,x[2*e]=H(e,5);D=new I(N,k,c+1,d,m),R=new I(x,S,0,f,m),z=new I(new Array(0),E,0,p,v)}(),J=!0),e.l_desc=new a(e.dyn_ltree,D),e.d_desc=new a(e.dyn_dtree,R),e.bl_desc=new a(e.bl_tree,z),e.bi_buf=0,e.bi_valid=0,U(e)},r._tr_stored_block=$,r._tr_flush_block=function(e,t,r,n){var i,a,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return l;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return l;return o}(e)),W(e,e.l_desc),W(e,e.d_desc),s=function(e){var t;for(Q(e,e.dyn_ltree,e.l_desc.max_code),Q(e,e.dyn_dtree,e.d_desc.max_code),W(e,e.bl_desc),t=p-1;3<=t&&0===e.bl_tree[2*C[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==t?$(e,t,r,n):4===e.strategy||a===i?(P(e,2+(n?1:0),3),F(e,N,x)):(P(e,4+(n?1:0),3),function(e,t,r,n){var i;for(P(e,t-257,5),P(e,r-1,5),P(e,n-4,4),i=0;i<n;i++)P(e,e.bl_tree[2*C[i]+1],3);K(e,e.dyn_ltree,t-1),K(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),F(e,e.dyn_ltree,e.dyn_dtree)),U(e),n&&B(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(A[r]+c+1)]++,e.dyn_dtree[2*M(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){var t;P(e,2,3),L(e,_,N),16===(t=e).bi_valid?(q(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":1}],8:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(e,t,r){"use strict";var s=e("./zlib/deflate"),o=e("./utils/common"),u=e("./utils/strings"),i=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString,h=0,c=-1,d=0,f=8;function p(e){if(!(this instanceof p))return new p(e);this.options=o.assign({level:c,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var r=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==h)throw new Error(i[r]);if(t.header&&s.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n="string"==typeof t.dictionary?u.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=s.deflateSetDictionary(this.strm,n))!==h)throw new Error(i[r]);this._dict_set=!0}}function n(e,t){var r=new p(t);if(r.push(e,!0),r.err)throw r.msg||i[r.err];return r.result}p.prototype.push=function(e,t){var r,n,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:!0===t?4:0,"string"==typeof e?i.input=u.string2buf(e):"[object ArrayBuffer]"===l.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new o.Buf8(a),i.next_out=0,i.avail_out=a),1!==(r=s.deflate(i,n))&&r!==h)return this.onEnd(r),!(this.ended=!0);0!==i.avail_out&&(0!==i.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(u.buf2binstring(o.shrinkBuf(i.output,i.next_out))):this.onData(o.shrinkBuf(i.output,i.next_out)))}while((0<i.avail_in||0===i.avail_out)&&1!==r);return 4===n?(r=s.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===h):2!==n||(this.onEnd(h),!(i.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=p,r.deflate=n,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,n(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,n(e,t)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/home/jarvis/nodeapp/node_modules/process/browser.js":[function(e,t,r){var n=t.exports={};var i;var a;function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=s}}catch(e){i=s}try{if(typeof clearTimeout==="function"){a=clearTimeout}else{a=o}}catch(e){a=o}})();function u(t){if(i===setTimeout){return setTimeout(t,0)}if((i===s||!i)&&setTimeout){i=setTimeout;return setTimeout(t,0)}try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function l(t){if(a===clearTimeout){return clearTimeout(t)}if((a===o||!a)&&clearTimeout){a=clearTimeout;return clearTimeout(t)}try{return a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}var h=[];var c=false;var d;var f=-1;function p(){if(!c||!d){return}c=false;if(d.length){h=d.concat(h)}else{f=-1}if(h.length){v()}}function v(){if(c){return}var e=u(p);c=true;var t=h.length;while(t){d=h;h=[];while(++f<t){if(d){d[f].run()}}f=-1;t=h.length}d=null;c=false;l(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}h.push(new g(e,t));if(h.length===1&&!c){u(v)}};function g(e,t){this.fun=e;this.array=t}g.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function m(){}n.on=m;n.addListener=m;n.once=m;n.off=m;n.removeListener=m;n.removeAllListeners=m;n.emit=m;n.prependListener=m;n.prependOnceListener=m;n.listeners=function(e){return[]};n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},{}],"/home/jarvis/nodeapp/node_modules/reqwest/reqwest.js":[function(_dereq_,module,exports){!function(e,t,r){if(typeof module!="undefined"&&module.exports)module.exports=r();else if(typeof define=="function"&&define.amd)define(r);else t[e]=r()}("reqwest",this,function(){var context=this;if("window"in context){var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0]}else{var XHR2;try{XHR2=_dereq_("xhr2")}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray=typeof Array.isArray=="function"?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e["crossOrigin"]===true){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t){return t}else if(context[xDomainRequest]){return new XDomainRequest}else{throw new Error("Browser does not support cross-origin requests")}}else if(context[xmlHttpRequest]){return new XMLHttpRequest}else if(XHR2){return new XHR2}else{return new ActiveXObject("Microsoft.XMLHTTP")}},globalSetupOptions={dataFilter:function(e){return e}};function succeed(e){var t=protocolRe.exec(e.url);t=t&&t[1]||context.location.protocol;return httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,r){return function(){if(e._aborted)return r(e.request);if(e._timedOut)return r(e.request,"Request is aborted: timeout");if(e.request&&e.request[readyState]==4){e.request.onreadystatechange=noop;if(succeed(e))t(e.request);else r(e.request)}}}function setHeaders(e,t){var r=t["headers"]||{},n;r["Accept"]=r["Accept"]||defaultHeaders["accept"][t["type"]]||defaultHeaders["accept"]["*"];var i=typeof FormData!=="undefined"&&t["data"]instanceof FormData;if(!t["crossOrigin"]&&!r[requestedWith])r[requestedWith]=defaultHeaders["requestedWith"];if(!r[contentType]&&!i)r[contentType]=t["contentType"]||defaultHeaders["contentType"];for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){if(typeof t["withCredentials"]!=="undefined"&&typeof e.withCredentials!=="undefined"){e.withCredentials=!!t["withCredentials"]}}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,r,n){var i=uniqid++,a=e["jsonpCallback"]||"callback",s=e["jsonpCallbackName"]||reqwest.getcallbackPrefix(i),o=new RegExp("((^|\\?|&)"+a+")=([^&]+)"),u=n.match(o),l=doc.createElement("script"),h=0,c=navigator.userAgent.indexOf("MSIE 10.0")!==-1;if(u){if(u[3]==="?"){n=n.replace(o,"$1="+s)}else{s=u[3]}}else{n=urlappend(n,a+"="+s)}context[s]=generalCallback;l.type="text/javascript";l.src=n;l.async=true;if(typeof l.onreadystatechange!=="undefined"&&!c){l.htmlFor=l.id="_reqwest_"+i}l.onload=l.onreadystatechange=function(){if(l[readyState]&&l[readyState]!=="complete"&&l[readyState]!=="loaded"||h){return false}l.onload=l.onreadystatechange=null;l.onclick&&l.onclick();t(lastValue);lastValue=undefined;head.removeChild(l);h=1};head.appendChild(l);return{abort:function(){l.onload=l.onreadystatechange=null;r({},"Request is aborted: timeout",{});lastValue=undefined;head.removeChild(l);h=1}}}function getRequest(e,t){var r=this.o,n=(r["method"]||"GET").toUpperCase(),i=typeof r==="string"?r:r["url"],a=r["processData"]!==false&&r["data"]&&typeof r["data"]!=="string"?reqwest.toQueryString(r["data"]):r["data"]||null,s,o=false;if((r["type"]=="jsonp"||n=="GET")&&a){i=urlappend(i,a);a=null}if(r["type"]=="jsonp")return handleJsonp(r,e,t,i);s=r.xhr&&r.xhr(r)||xhr(r);s.open(n,i,r["async"]===false?false:true);setHeaders(s,r);setCredentials(s,r);if(context[xDomainRequest]&&s instanceof context[xDomainRequest]){s.onload=e;s.onerror=t;s.onprogress=function(){};o=true}else{s.onreadystatechange=handleReadyState(this,e,t)}r["before"]&&r["before"](s);if(o){setTimeout(function(){s.send(a)},200)}else{s.send(a)}return s}function Reqwest(e,t){this.o=e;this.fn=t;init.apply(this,arguments)}function setType(e){if(e===null)return undefined;if(e.match("json"))return"json";if(e.match("javascript"))return"js";if(e.match("text"))return"html";if(e.match("xml"))return"xml"}function init(o,fn){this.url=typeof o=="string"?o:o["url"];this.timeout=null;this._fulfilled=false;this._successHandler=function(){};this._fulfillmentHandlers=[];this._errorHandlers=[];this._completeHandlers=[];this._erred=false;this._responseArgs={};var self=this;fn=fn||function(){};if(o["timeout"]){this.timeout=setTimeout(function(){timedOut()},o["timeout"])}if(o["success"]){this._successHandler=function(){o["success"].apply(o,arguments)}}if(o["error"]){this._errorHandlers.push(function(){o["error"].apply(o,arguments)})}if(o["complete"]){this._completeHandlers.push(function(){o["complete"].apply(o,arguments)})}function complete(e){o["timeout"]&&clearTimeout(self.timeout);self.timeout=null;while(self._completeHandlers.length>0){self._completeHandlers.shift()(e)}}function success(resp){var type=o["type"]||resp&&setType(resp.getResponseHeader("Content-Type"));resp=type!=="jsonp"?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r){switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML;break}}self._responseArgs.resp=resp;self._fulfilled=true;fn(resp);self._successHandler(resp);while(self._fulfillmentHandlers.length>0){resp=self._fulfillmentHandlers.shift()(resp)}complete(resp)}function timedOut(){self._timedOut=true;self.request.abort()}function error(e,t,r){e=self.request;self._responseArgs.resp=e;self._responseArgs.msg=t;self._responseArgs.t=r;self._erred=true;while(self._errorHandlers.length>0){self._errorHandlers.shift()(e,t,r)}complete(e)}this.request=getRequest.call(this,success,error)}Reqwest.prototype={abort:function(){this._aborted=true;this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){e=e||function(){};t=t||function(){};if(this._fulfilled){this._responseArgs.resp=e(this._responseArgs.resp)}else if(this._erred){t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t)}else{this._fulfillmentHandlers.push(e);this._errorHandlers.push(t)}return this},always:function(e){if(this._fulfilled||this._erred){e(this._responseArgs.resp)}else{this._completeHandlers.push(e)}return this},fail:function(e){if(this._erred){e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t)}else{this._errorHandlers.push(e)}return this},catch:function(e){return this.fail(e)}};function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var r=e.name,n=e.tagName.toLowerCase(),i=function(e){if(e&&!e["disabled"])t(r,normalize(e["attributes"]["value"]&&e["attributes"]["value"]["specified"]?e["value"]:e["text"]))},a,s,o,u;if(e.disabled||!r)return;switch(n){case"input":if(!/reset|button|image|file/i.test(e.type)){a=/checkbox/i.test(e.type);s=/radio/i.test(e.type);o=e.value;(!(a||s)||e.checked)&&t(r,normalize(a&&o===""?"on":o))}break;case"textarea":t(r,normalize(e.value));break;case"select":if(e.type.toLowerCase()==="select-one"){i(e.selectedIndex>=0?e.options[e.selectedIndex]:null)}else{for(u=0;e.length&&u<e.length;u++){e.options[u].selected&&i(e.options[u])}}break}}function eachFormElement(){var a=this,e,t,r=function(e,t){var r,n,i;for(r=0;r<t.length;r++){i=e[byTag](t[r]);for(n=0;n<i.length;n++)serial(i[n],a)}};for(t=0;t<arguments.length;t++){e=arguments[t];if(/input|select|textarea/i.test(e.tagName))serial(e,a);r(e,["input","select","textarea"])}}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var r={};eachFormElement.apply(function(e,t){if(e in r){r[e]&&!isArray(r[e])&&(r[e]=[r[e]]);r[e].push(t)}else r[e]=t},arguments);return r}reqwest.serializeArray=function(){var r=[];eachFormElement.apply(function(e,t){r.push({name:e,value:t})},arguments);return r};reqwest.serialize=function(){if(arguments.length===0)return"";var e,t,r=Array.prototype.slice.call(arguments,0);e=r.pop();e&&e.nodeType&&r.push(e)&&(e=null);e&&(e=e.type);if(e=="map")t=serializeHash;else if(e=="array")t=reqwest.serializeArray;else t=serializeQueryString;return t.apply(null,r)};reqwest.toQueryString=function(e,t){var r,n,i=t||false,a=[],s=encodeURIComponent,o=function(e,t){t="function"===typeof t?t():t==null?"":t;a[a.length]=s(e)+"="+s(t)};if(isArray(e)){for(n=0;e&&n<e.length;n++)o(e[n]["name"],e[n]["value"])}else{for(r in e){if(e.hasOwnProperty(r))buildParams(r,e[r],i,o)}}return a.join("&").replace(/%20/g,"+")};function buildParams(e,t,r,n){var i,a,s,o=/\[\]$/;if(isArray(t)){for(a=0;t&&a<t.length;a++){s=t[a];if(r||o.test(e)){n(e,s)}else{buildParams(e+"["+(typeof s==="object"?a:"")+"]",s,r,n)}}}else if(t&&t.toString()==="[object Object]"){for(i in t){buildParams(e+"["+i+"]",t[i],r,n)}}else{n(e,t)}}reqwest.getcallbackPrefix=function(){return callbackPrefix};reqwest.compat=function(e,t){if(e){e["type"]&&(e["method"]=e["type"])&&delete e["type"];e["dataType"]&&(e["type"]=e["dataType"]);e["jsonpCallback"]&&(e["jsonpCallbackName"]=e["jsonpCallback"])&&delete e["jsonpCallback"];e["jsonp"]&&(e["jsonpCallback"]=e["jsonp"])}return new Reqwest(e,t)};reqwest.ajaxSetup=function(e){e=e||{};for(var t in e){globalSetupOptions[t]=e[t]}};return reqwest})},{xhr2:"/home/jarvis/nodeapp/node_modules/browser-resolve/empty.js"}]},{},["/home/jarvis/nodeapp/client/js/record/camera.js"])})();